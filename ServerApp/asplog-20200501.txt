2020-05-01T09:46:16.3597190+08:00  [INF] Starting IdentityServer4 version "2.5.4.0" (8add0571)
2020-05-01T09:46:16.4097173+08:00  [INF] Using the default authentication scheme "Cookies" for IdentityServer (4a54f457)
2020-05-01T09:46:17.9367358+08:00 0HLVDE5OCDHOK:00000001 [INF] Request starting HTTP/1.1 DEBUG http://localhost:61598/  0 (ca22a1cb)
2020-05-01T09:46:18.1637175+08:00 0HLVDE5OCDHOK:00000001 [INF] Request finished in 235.3922ms 200  (791a596a)
2020-05-01T09:51:55.0928885+08:00  [INF] Starting IdentityServer4 version "2.5.4.0" (8add0571)
2020-05-01T09:51:55.1378908+08:00  [INF] Using the default authentication scheme "Cookies" for IdentityServer (4a54f457)
2020-05-01T09:51:55.8059286+08:00 0HLVDE8T4M5QK:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:61598/   (ca22a1cb)
2020-05-01T09:53:22.9216841+08:00 0HLVDE8T4M5QL:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T09:53:23.0366877+08:00 0HLVDE8T4M5QL:00000001 [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T09:53:23.0696870+08:00 0HLVDE8T4M5QL:00000001 [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T09:53:23.1654854+08:00 0HLVDE8T4M5QL:00000001 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T09:53:23.7096890+08:00 0HLVDE8T4M5QL:00000001 [INF] Executed DbCommand ("140"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T09:53:23.7926833+08:00 0HLVDE8T4M5QL:00000001 [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 718.5584ms. (50a9e262)
2020-05-01T09:53:23.8286878+08:00 0HLVDE8T4M5QL:00000001 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T09:53:23.9309450+08:00 0HLVDE8T4M5QL:00000001 [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 887.6208ms (afa2e885)
2020-05-01T09:53:23.9437266+08:00 0HLVDE8T4M5QL:00000001 [INF] Request finished in 1018.7222ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T09:53:24.2296864+08:00 0HLVDE8T4M5QL:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:61598/favicon.ico   (ca22a1cb)
2020-05-01T09:53:24.2876834+08:00 0HLVDE8T4M5QL:00000002 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\MVS\Projects\vote\ClientApp\dist\favicon.ico"' (27b0a520)
2020-05-01T09:53:24.2876834+08:00 0HLVDE8T4M5QL:00000002 [INF] Request finished in 58.7395ms 200 image/x-icon (791a596a)
2020-05-01T09:56:15.1577821+08:00 0HLVDE8T4M5QK:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.Net.Http.HttpRequestException: Failed to proxy the request to http://localhost:5000/, because the request to the proxy target failed. Check that the proxy target server is running and accepting requests to http://localhost:5000/.

The underlying exception message was 'An error occurred while sending the request.'.Check the InnerException for more details. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:5000
   at System.Net.Sockets.Socket.InternalEndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Net.Http.HttpClient.<FinishSendAsyncUnbuffered>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.SpaServices.Extensions.Proxy.SpaProxy.<PerformProxyRequest>d__4.MoveNext()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.SpaServices.Extensions.Proxy.SpaProxy.<PerformProxyRequest>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.SpaProxyingExtensions.<>c__DisplayClass2_0.<<UseProxyToSpaDevelopmentServer>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2020-05-01T09:56:15.2617608+08:00 0HLVDE8T4M5QK:00000001 [INF] Request finished in 259466.1925ms 500 text/html; charset=utf-8 (791a596a)
2020-05-01T10:24:43.8389479+08:00 0HLVDE8T4M5QM:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T10:24:43.8489700+08:00 0HLVDE8T4M5QM:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T10:24:43.8609455+08:00 0HLVDE8T4M5QM:00000001 [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T10:24:43.8619477+08:00 0HLVDE8T4M5QM:00000001 [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T10:24:43.8629462+08:00 0HLVDE8T4M5QM:00000001 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T10:24:48.6329459+08:00 0HLVDE8T4M5QM:00000001 [INF] Executed DbCommand ("180"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T10:24:48.6336266+08:00 0HLVDE8T4M5QM:00000001 [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4771.2088ms. (50a9e262)
2020-05-01T10:24:48.6339476+08:00 0HLVDE8T4M5QM:00000001 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T10:24:48.6623676+08:00 0HLVDE8T4M5QM:00000001 [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 4800.401ms (afa2e885)
2020-05-01T10:24:48.6623676+08:00 0HLVDE8T4M5QM:00000001 [INF] Request finished in 4823.1991ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T10:51:56.9115003+08:00  [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"PersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=vote " (9958f5bb)
2020-05-01T10:51:57.6845230+08:00  [INF] Executed DbCommand ("99"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Expiration] < GETUTCDATE()
ORDER BY [x].[Key]" (0723d8ff)
2020-05-01T10:51:57.7045310+08:00  [INF] Removing 0 grants (62cd9308)
2020-05-01T10:51:57.7496832+08:00  [WRN] Query: '"(from DeviceFlowCodes x in DbSet<DeviceFlowCodes> where [x].Expiration < (Nullable<DateTime>)DateTim..."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2020-05-01T10:51:57.8137186+08:00  [INF] Executed DbCommand ("33"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[UserCode], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[DeviceCode], [x].[Expiration], [x].[SubjectId]
FROM [DeviceCodes] AS [x]
WHERE [x].[Expiration] < GETUTCDATE()" (0723d8ff)
2020-05-01T10:51:57.8155193+08:00  [INF] Removing 0 device flow codes (171ba47d)
2020-05-01T11:15:35.8048310+08:00 0HLVDE8T4M5QN:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T11:15:35.8056763+08:00 0HLVDE8T4M5QN:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T11:15:35.8076758+08:00 0HLVDE8T4M5QN:00000001 [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T11:15:35.8086751+08:00 0HLVDE8T4M5QN:00000001 [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T11:15:35.8098133+08:00 0HLVDE8T4M5QN:00000001 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T11:15:37.2566770+08:00 0HLVDE8T4M5QN:00000001 [INF] Executed DbCommand ("93"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T11:15:37.2566770+08:00 0HLVDE8T4M5QN:00000001 [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1448.6366ms. (50a9e262)
2020-05-01T11:15:37.2576737+08:00 0HLVDE8T4M5QN:00000001 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T11:15:37.2576737+08:00 0HLVDE8T4M5QN:00000001 [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 1450.3452ms (afa2e885)
2020-05-01T11:15:37.2587107+08:00 0HLVDE8T4M5QN:00000001 [INF] Request finished in 1453.5946ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T11:26:20.8482481+08:00 0HLVDE8T4M5QO:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T11:26:20.8492476+08:00 0HLVDE8T4M5QO:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T11:26:20.8492476+08:00 0HLVDE8T4M5QO:00000001 [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T11:26:20.8492476+08:00 0HLVDE8T4M5QO:00000001 [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T11:26:20.8502476+08:00 0HLVDE8T4M5QO:00000001 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T11:26:21.5580818+08:00 0HLVDE8T4M5QO:00000001 [INF] Executed DbCommand ("90"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T11:26:21.5582470+08:00 0HLVDE8T4M5QO:00000001 [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 708.5475ms. (50a9e262)
2020-05-01T11:26:21.5582470+08:00 0HLVDE8T4M5QO:00000001 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T11:26:21.5582470+08:00 0HLVDE8T4M5QO:00000001 [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 709.1314ms (afa2e885)
2020-05-01T11:26:21.5582470+08:00 0HLVDE8T4M5QO:00000001 [INF] Request finished in 710.0838ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T11:36:29.1026416+08:00 0HLVDE8T4M5QP:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T11:36:29.1036577+08:00 0HLVDE8T4M5QP:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T11:36:29.1036577+08:00 0HLVDE8T4M5QP:00000001 [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T11:36:29.1036577+08:00 0HLVDE8T4M5QP:00000001 [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T11:36:29.1046420+08:00 0HLVDE8T4M5QP:00000001 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T11:36:29.7706422+08:00 0HLVDE8T4M5QP:00000001 [INF] Executed DbCommand ("51"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T11:36:29.7706422+08:00 0HLVDE8T4M5QP:00000001 [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 666.5726ms. (50a9e262)
2020-05-01T11:36:29.7706422+08:00 0HLVDE8T4M5QP:00000001 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T11:36:29.7706422+08:00 0HLVDE8T4M5QP:00000001 [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 667.1981ms (afa2e885)
2020-05-01T11:36:29.7706422+08:00 0HLVDE8T4M5QP:00000001 [INF] Request finished in 668.3244ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T11:51:57.8308939+08:00  [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"PersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=vote " (9958f5bb)
2020-05-01T11:51:58.1119021+08:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Expiration] < GETUTCDATE()
ORDER BY [x].[Key]" (0723d8ff)
2020-05-01T11:51:58.1119021+08:00  [INF] Removing 0 grants (62cd9308)
2020-05-01T11:51:58.1158599+08:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[UserCode], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[DeviceCode], [x].[Expiration], [x].[SubjectId]
FROM [DeviceCodes] AS [x]
WHERE [x].[Expiration] < GETUTCDATE()" (0723d8ff)
2020-05-01T11:51:58.1158599+08:00  [INF] Removing 0 device flow codes (171ba47d)
2020-05-01T11:55:05.6148874+08:00 0HLVDE8T4M5QQ:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T11:55:05.6148874+08:00 0HLVDE8T4M5QQ:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T11:55:05.6148874+08:00 0HLVDE8T4M5QQ:00000001 [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T11:55:05.6154652+08:00 0HLVDE8T4M5QQ:00000001 [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T11:55:05.6161131+08:00 0HLVDE8T4M5QQ:00000001 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T11:55:05.7765454+08:00 0HLVDE8T4M5QQ:00000001 [INF] Executed DbCommand ("159"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T11:55:05.7765454+08:00 0HLVDE8T4M5QQ:00000001 [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 161.3722ms. (50a9e262)
2020-05-01T11:55:05.7765454+08:00 0HLVDE8T4M5QQ:00000001 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T11:55:05.7774665+08:00 0HLVDE8T4M5QQ:00000001 [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 162.2208ms (afa2e885)
2020-05-01T11:55:05.7774665+08:00 0HLVDE8T4M5QQ:00000001 [INF] Request finished in 162.9675ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T11:55:09.2204666+08:00 0HLVDE8T4M5QQ:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T11:55:09.2204666+08:00 0HLVDE8T4M5QQ:00000002 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T11:55:09.2204666+08:00 0HLVDE8T4M5QQ:00000002 [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T11:55:09.2204666+08:00 0HLVDE8T4M5QQ:00000002 [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T11:55:09.2215211+08:00 0HLVDE8T4M5QQ:00000002 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T11:55:09.2606351+08:00 0HLVDE8T4M5QQ:00000002 [INF] Executed DbCommand ("39"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T11:55:09.2606351+08:00 0HLVDE8T4M5QQ:00000002 [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 39.7604ms. (50a9e262)
2020-05-01T11:55:09.2606351+08:00 0HLVDE8T4M5QQ:00000002 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T11:55:09.2606351+08:00 0HLVDE8T4M5QQ:00000002 [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 40.2431ms (afa2e885)
2020-05-01T11:55:09.2614690+08:00 0HLVDE8T4M5QQ:00000002 [INF] Request finished in 41.0018ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:01:01.0107751+08:00 0HLVDE8T4M5QR:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/user/login   (ca22a1cb)
2020-05-01T12:01:01.0111683+08:00 0HLVDE8T4M5QR:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:01.0178568+08:00 0HLVDE8T4M5QR:00000001 [INF] Request finished in 6.9253ms 204  (791a596a)
2020-05-01T12:01:01.0242012+08:00 0HLVDE8T4M5QR:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:61598/api/v1/user/login application/json 41 (ca22a1cb)
2020-05-01T12:01:01.0242012+08:00 0HLVDE8T4M5QR:00000002 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:01.2081689+08:00 0HLVDE8T4M5QR:00000002 [INF] Route matched with "{action = \"Login\", controller = \"User\", page = \"\"}". Executing action "vote.UserController.v1.UserController.Login (vote)" (a44c0341)
2020-05-01T12:01:01.8963963+08:00 0HLVDE8T4M5QR:00000002 [INF] Executing action method "vote.UserController.v1.UserController.Login (vote)" with arguments (["vote.Models.ApplicationUser"]) - Validation state: Valid (4e3479ed)
2020-05-01T12:01:01.9252869+08:00 0HLVDE8T4M5QR:00000002 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:01:02.4802178+08:00 0HLVDE8T4M5QR:00000002 [INF] Executed DbCommand ("100"ms) [Parameters=["@__user_Username_0='?' (Size = 15), @__user_Password_1='?' (Size = 16)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [o].[Id], [o].[CreatedAt], [o].[Displayname], [o].[LastLogin], [o].[Password], [o].[Username]
FROM [User] AS [o]
WHERE ([o].[Username] = @__user_Username_0) AND ([o].[Password] = @__user_Password_1)" (0723d8ff)
2020-05-01T12:01:02.6872088+08:00 0HLVDE8T4M5QR:00000002 [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2020-05-01T12:01:02.8731694+08:00 0HLVDE8T4M5QR:00000002 [INF] Executed DbCommand ("119"ms) [Parameters=["@p5='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (Size = 15), @p2='?' (DbType = DateTime2), @p3='?' (Size = 16), @p4='?' (Size = 15)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [User] SET [CreatedAt] = @p0, [Displayname] = @p1, [LastLogin] = @p2, [Password] = @p3, [Username] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2020-05-01T12:01:02.8862070+08:00 0HLVDE8T4M5QR:00000002 [INF] Executed action method "vote.UserController.v1.UserController.Login (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 989.1956ms. (50a9e262)
2020-05-01T12:01:02.8862070+08:00 0HLVDE8T4M5QR:00000002 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:01:02.8865444+08:00 0HLVDE8T4M5QR:00000002 [INF] Executed action "vote.UserController.v1.UserController.Login (vote)" in 1677.9813ms (afa2e885)
2020-05-01T12:01:02.8865444+08:00 0HLVDE8T4M5QR:00000002 [INF] Request finished in 1862.4577ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:01:02.9789140+08:00 0HLVDE8T4M5QR:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:61598/.well-known/openid-configuration   (ca22a1cb)
2020-05-01T12:01:02.9791689+08:00 0HLVDE8T4M5QR:00000003 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:03.0378550+08:00 0HLVDE8T4M5QR:00000003 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"ConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=vote " (9958f5bb)
2020-05-01T12:01:03.2476902+08:00 0HLVDE8T4M5QR:00000003 [INF] Executed DbCommand ("50"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.AllowedCorsOrigins].[Origin]
FROM [Clients] AS [x]
INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]" (0723d8ff)
2020-05-01T12:01:03.2515937+08:00 0HLVDE8T4M5QR:00000003 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:03.2770130+08:00 0HLVDE8T4M5QR:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-05-01T12:01:03.4056736+08:00 0HLVDE8T4M5QR:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Created], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[NonEditable], [x].[Required], [x].[ShowInDiscoveryDocument], [x].[Updated]
FROM [IdentityResources] AS [x]
ORDER BY [x].[Id]" (0723d8ff)
2020-05-01T12:01:03.4615935+08:00 0HLVDE8T4M5QR:00000003 [INF] Executed DbCommand ("42"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
FROM [IdentityClaims] AS [x.UserClaims]
INNER JOIN (
    SELECT [x0].[Id]
    FROM [IdentityResources] AS [x0]
) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
ORDER BY [t].[Id]" (0723d8ff)
2020-05-01T12:01:03.4685912+08:00 0HLVDE8T4M5QR:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Properties].[Id], [x.Properties].[IdentityResourceId], [x.Properties].[Key], [x.Properties].[Value]
FROM [IdentityProperties] AS [x.Properties]
INNER JOIN (
    SELECT [x1].[Id]
    FROM [IdentityResources] AS [x1]
) AS [t0] ON [x.Properties].[IdentityResourceId] = [t0].[Id]
ORDER BY [t0].[Id]" (0723d8ff)
2020-05-01T12:01:03.5626142+08:00 0HLVDE8T4M5QR:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Created], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[LastAccessed], [x].[Name], [x].[NonEditable], [x].[Updated]
FROM [ApiResources] AS [x]
ORDER BY [x].[Id]" (0723d8ff)
2020-05-01T12:01:03.5706602+08:00 0HLVDE8T4M5QR:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Created], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
FROM [ApiSecrets] AS [x.Secrets]
INNER JOIN (
    SELECT [x0].[Id]
    FROM [ApiResources] AS [x0]
) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
ORDER BY [t].[Id]" (0723d8ff)
2020-05-01T12:01:03.5776740+08:00 0HLVDE8T4M5QR:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [x.Scopes]
INNER JOIN (
    SELECT [x1].[Id]
    FROM [ApiResources] AS [x1]
) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
ORDER BY [t0].[Id], [x.Scopes].[Id]" (0723d8ff)
2020-05-01T12:01:03.5986386+08:00 0HLVDE8T4M5QR:00000003 [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
INNER JOIN (
    SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
    FROM [ApiScopes] AS [x.Scopes0]
    INNER JOIN (
        SELECT [x2].[Id]
        FROM [ApiResources] AS [x2]
    ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
ORDER BY [t2].[Id0], [t2].[Id]" (0723d8ff)
2020-05-01T12:01:03.6059196+08:00 0HLVDE8T4M5QR:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
FROM [ApiClaims] AS [x.UserClaims]
INNER JOIN (
    SELECT [x3].[Id]
    FROM [ApiResources] AS [x3]
) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
ORDER BY [t3].[Id]" (0723d8ff)
2020-05-01T12:01:03.6111351+08:00 0HLVDE8T4M5QR:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Properties].[Id], [x.Properties].[ApiResourceId], [x.Properties].[Key], [x.Properties].[Value]
FROM [ApiProperties] AS [x.Properties]
INNER JOIN (
    SELECT [x4].[Id]
    FROM [ApiResources] AS [x4]
) AS [t4] ON [x.Properties].[ApiResourceId] = [t4].[Id]
ORDER BY [t4].[Id]" (0723d8ff)
2020-05-01T12:01:03.6766110+08:00 0HLVDE8T4M5QR:00000003 [INF] Request finished in 697.7832ms 200 application/json; charset=UTF-8 (791a596a)
2020-05-01T12:01:03.6915936+08:00 0HLVDE8T4M5QR:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/authorize?client_id=js&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fauth-callback&response_type=id_token%20token&scope=openid%20profile%20api1&state=7d3b6ab6bf7b4ca6a8251520469a7c7c&nonce=00ec8f9950ab437bb5a6da38a106d0e0&display=popup   (ca22a1cb)
2020-05-01T12:01:03.7946340+08:00 0HLVDE8T4M5QR:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2020-05-01T12:01:03.8245953+08:00 0HLVDE8T4M5QR:00000004 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"ConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=vote " (9958f5bb)
2020-05-01T12:01:03.9300734+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Created], [x].[Description], [x].[DeviceCodeLifetime], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LastAccessed], [x].[LogoUri], [x].[NonEditable], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh], [x].[Updated], [x].[UserCodeType], [x].[UserSsoLifetime]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id]" (0723d8ff)
2020-05-01T12:01:03.9516907+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
INNER JOIN (
    SELECT TOP(1) [x0].[Id]
    FROM [Clients] AS [x0]
    WHERE [x0].[ClientId] = @__clientId_0
    ORDER BY [x0].[Id]
) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
ORDER BY [t].[Id]" (0723d8ff)
2020-05-01T12:01:03.9858438+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("32"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
FROM [ClientRedirectUris] AS [x.RedirectUris]
INNER JOIN (
    SELECT TOP(1) [x1].[Id]
    FROM [Clients] AS [x1]
    WHERE [x1].[ClientId] = @__clientId_0
    ORDER BY [x1].[Id]
) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
ORDER BY [t0].[Id]" (0723d8ff)
2020-05-01T12:01:03.9947177+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
INNER JOIN (
    SELECT TOP(1) [x2].[Id]
    FROM [Clients] AS [x2]
    WHERE [x2].[ClientId] = @__clientId_0
    ORDER BY [x2].[Id]
) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
ORDER BY [t1].[Id]" (0723d8ff)
2020-05-01T12:01:04.0026622+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
FROM [ClientScopes] AS [x.AllowedScopes]
INNER JOIN (
    SELECT TOP(1) [x3].[Id]
    FROM [Clients] AS [x3]
    WHERE [x3].[ClientId] = @__clientId_0
    ORDER BY [x3].[Id]
) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
ORDER BY [t2].[Id]" (0723d8ff)
2020-05-01T12:01:04.0086511+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Created], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
FROM [ClientSecrets] AS [x.ClientSecrets]
INNER JOIN (
    SELECT TOP(1) [x4].[Id]
    FROM [Clients] AS [x4]
    WHERE [x4].[ClientId] = @__clientId_0
    ORDER BY [x4].[Id]
) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
ORDER BY [t3].[Id]" (0723d8ff)
2020-05-01T12:01:04.0145918+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
FROM [ClientClaims] AS [x.Claims]
INNER JOIN (
    SELECT TOP(1) [x5].[Id]
    FROM [Clients] AS [x5]
    WHERE [x5].[ClientId] = @__clientId_0
    ORDER BY [x5].[Id]
) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
ORDER BY [t4].[Id]" (0723d8ff)
2020-05-01T12:01:04.0195920+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
INNER JOIN (
    SELECT TOP(1) [x6].[Id]
    FROM [Clients] AS [x6]
    WHERE [x6].[ClientId] = @__clientId_0
    ORDER BY [x6].[Id]
) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
ORDER BY [t5].[Id]" (0723d8ff)
2020-05-01T12:01:04.0255925+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
INNER JOIN (
    SELECT TOP(1) [x7].[Id]
    FROM [Clients] AS [x7]
    WHERE [x7].[ClientId] = @__clientId_0
    ORDER BY [x7].[Id]
) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
ORDER BY [t6].[Id]" (0723d8ff)
2020-05-01T12:01:04.0306334+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
FROM [ClientProperties] AS [x.Properties]
INNER JOIN (
    SELECT TOP(1) [x8].[Id]
    FROM [Clients] AS [x8]
    WHERE [x8].[ClientId] = @__clientId_0
    ORDER BY [x8].[Id]
) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
ORDER BY [t7].[Id]" (0723d8ff)
2020-05-01T12:01:04.1435937+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [identityResource].[Id], [identityResource].[Created], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[NonEditable], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument], [identityResource].[Updated]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'profile', N'api1')
ORDER BY [identityResource].[Id]" (0723d8ff)
2020-05-01T12:01:04.1505918+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
FROM [IdentityClaims] AS [identityResource.UserClaims]
INNER JOIN (
    SELECT [identityResource0].[Id]
    FROM [IdentityResources] AS [identityResource0]
    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'api1')
) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
ORDER BY [t].[Id]" (0723d8ff)
2020-05-01T12:01:04.1545909+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [identityResource.Properties].[Id], [identityResource.Properties].[IdentityResourceId], [identityResource.Properties].[Key], [identityResource.Properties].[Value]
FROM [IdentityProperties] AS [identityResource.Properties]
INNER JOIN (
    SELECT [identityResource1].[Id]
    FROM [IdentityResources] AS [identityResource1]
    WHERE [identityResource1].[Name] IN (N'openid', N'profile', N'api1')
) AS [t0] ON [identityResource.Properties].[IdentityResourceId] = [t0].[Id]
ORDER BY [t0].[Id]" (0723d8ff)
2020-05-01T12:01:04.2076142+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api].[Id], [api].[Created], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[LastAccessed], [api].[Name], [api].[NonEditable], [api].[Updated]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'profile', N'api1') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id]" (0723d8ff)
2020-05-01T12:01:04.2757790+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("62"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Created], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]
FROM [ApiSecrets] AS [api.Secrets]
INNER JOIN (
    SELECT [api0].[Id]
    FROM [ApiResources] AS [api0]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x0]
        WHERE [x0].[Name] IN (N'openid', N'profile', N'api1') AND ([api0].[Id] = [x0].[ApiResourceId]))
) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]
ORDER BY [t].[Id]" (0723d8ff)
2020-05-01T12:01:04.2896168+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [api.Scopes]
INNER JOIN (
    SELECT [api1].[Id]
    FROM [ApiResources] AS [api1]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x1]
        WHERE [x1].[Name] IN (N'openid', N'profile', N'api1') AND ([api1].[Id] = [x1].[ApiResourceId]))
) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]
ORDER BY [t0].[Id], [api.Scopes].[Id]" (0723d8ff)
2020-05-01T12:01:04.3316144+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("38"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]
FROM [ApiScopeClaims] AS [api.Scopes.UserClaims]
INNER JOIN (
    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]
    FROM [ApiScopes] AS [api.Scopes0]
    INNER JOIN (
        SELECT [api2].[Id]
        FROM [ApiResources] AS [api2]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x2]
            WHERE [x2].[Name] IN (N'openid', N'profile', N'api1') AND ([api2].[Id] = [x2].[ApiResourceId]))
    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]
) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
ORDER BY [t2].[Id0], [t2].[Id]" (0723d8ff)
2020-05-01T12:01:04.3475911+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]
FROM [ApiClaims] AS [api.UserClaims]
INNER JOIN (
    SELECT [api3].[Id]
    FROM [ApiResources] AS [api3]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x3]
        WHERE [x3].[Name] IN (N'openid', N'profile', N'api1') AND ([api3].[Id] = [x3].[ApiResourceId]))
) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]
ORDER BY [t3].[Id]" (0723d8ff)
2020-05-01T12:01:04.3626337+08:00 0HLVDE8T4M5QR:00000004 [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api.Properties].[Id], [api.Properties].[ApiResourceId], [api.Properties].[Key], [api.Properties].[Value]
FROM [ApiProperties] AS [api.Properties]
INNER JOIN (
    SELECT [api4].[Id]
    FROM [ApiResources] AS [api4]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x4]
        WHERE [x4].[Name] IN (N'openid', N'profile', N'api1') AND ([api4].[Id] = [x4].[ApiResourceId]))
) AS [t4] ON [api.Properties].[ApiResourceId] = [t4].[Id]
ORDER BY [t4].[Id]" (0723d8ff)
2020-05-01T12:01:04.6965905+08:00 0HLVDE8T4M5QR:00000004 [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2020-05-01T12:01:04.7325911+08:00 0HLVDE8T4M5QR:00000004 [INF] Request finished in 1040.7884ms 302  (791a596a)
2020-05-01T12:01:05.6495926+08:00 0HLVDE8T4M5QR:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:61598/.well-known/openid-configuration/jwks   (ca22a1cb)
2020-05-01T12:01:05.6495926+08:00 0HLVDE8T4M5QR:00000005 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:05.6495926+08:00 0HLVDE8T4M5QR:00000005 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:05.6506606+08:00 0HLVDE8T4M5QR:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-05-01T12:01:05.6865932+08:00 0HLVDE8T4M5QR:00000005 [INF] Request finished in 37.3287ms 200 application/jwk-set+json; charset=UTF-8 (791a596a)
2020-05-01T12:01:05.7120907+08:00 0HLVDE8T4M5QR:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/connect/userinfo   (ca22a1cb)
2020-05-01T12:01:05.7120907+08:00 0HLVDE8T4M5QR:00000006 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:05.7120907+08:00 0HLVDE8T4M5QR:00000006 [INF] Request finished in 0.2666ms 204  (791a596a)
2020-05-01T12:01:05.7166756+08:00 0HLVDE8T4M5QR:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/userinfo   (ca22a1cb)
2020-05-01T12:01:05.7166756+08:00 0HLVDE8T4M5QR:00000007 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:05.7166756+08:00 0HLVDE8T4M5QR:00000007 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:05.7189837+08:00 0HLVDE8T4M5QR:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2020-05-01T12:01:05.8292301+08:00 0HLVDE8T4M5QR:00000007 [INF] Profile service returned the following claim types: "sub name" (b824551e)
2020-05-01T12:01:05.8865923+08:00 0HLVDE8T4M5QR:00000007 [INF] Request finished in 170.5196ms 200 application/json; charset=UTF-8 (791a596a)
2020-05-01T12:01:05.9045919+08:00 0HLVDE8T4M5QR:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/checksession   (ca22a1cb)
2020-05-01T12:01:05.9075949+08:00 0HLVDE8T4M5QR:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2020-05-01T12:01:05.9355916+08:00 0HLVDE8T4M5QR:00000008 [INF] Request finished in 30.2628ms 200 text/html; charset=UTF-8 (791a596a)
2020-05-01T12:01:06.4968616+08:00 0HLVDE8T4M5QS:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:61598/.well-known/openid-configuration   (ca22a1cb)
2020-05-01T12:01:06.4968616+08:00 0HLVDE8T4M5QS:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:06.4968616+08:00 0HLVDE8T4M5QS:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:06.4968616+08:00 0HLVDE8T4M5QS:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-05-01T12:01:06.4975945+08:00 0HLVDE8T4M5QS:00000001 [INF] Request finished in 1.3083ms 200 application/json; charset=UTF-8 (791a596a)
2020-05-01T12:01:06.5765947+08:00 0HLVDE8T4M5QS:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/checksession   (ca22a1cb)
2020-05-01T12:01:06.5776124+08:00 0HLVDE8T4M5QS:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2020-05-01T12:01:06.5785950+08:00 0HLVDE8T4M5QS:00000002 [INF] Request finished in 1.5249ms 200 text/html; charset=UTF-8 (791a596a)
2020-05-01T12:01:06.9913494+08:00 0HLVDE8T4M5QS:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T12:01:06.9913494+08:00 0HLVDE8T4M5QS:00000003 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:06.9915937+08:00 0HLVDE8T4M5QS:00000003 [INF] Request finished in 0.2802ms 204  (791a596a)
2020-05-01T12:01:06.9976066+08:00 0HLVDE8T4M5QS:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T12:01:06.9980642+08:00 0HLVDE8T4M5QS:00000004 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:06.9985924+08:00 0HLVDE8T4M5QS:00000004 [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T12:01:06.9985924+08:00 0HLVDE8T4M5QS:00000004 [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T12:01:06.9991537+08:00 0HLVDE8T4M5QS:00000004 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:01:07.0047466+08:00 0HLVDE8T4M5QS:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T12:01:07.0047466+08:00 0HLVDE8T4M5QS:00000004 [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.5759ms. (50a9e262)
2020-05-01T12:01:07.0047466+08:00 0HLVDE8T4M5QS:00000004 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:01:07.0055941+08:00 0HLVDE8T4M5QS:00000004 [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 6.9685ms (afa2e885)
2020-05-01T12:01:07.0055941+08:00 0HLVDE8T4M5QS:00000004 [INF] Request finished in 7.9164ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:01:13.4213559+08:00 0HLVDE8T4M5QS:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T12:01:13.4215923+08:00 0HLVDE8T4M5QS:00000005 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:13.4215923+08:00 0HLVDE8T4M5QS:00000005 [INF] Request finished in 0.2626ms 204  (791a596a)
2020-05-01T12:01:13.4266292+08:00 0HLVDE8T4M5QS:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T12:01:13.4266292+08:00 0HLVDE8T4M5QS:00000006 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:13.4306914+08:00 0HLVDE8T4M5QS:00000006 [INF] Route matched with "{action = \"GetPollsByCurrentUser\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" (a44c0341)
2020-05-01T12:01:15.3010871+08:00 0HLVDE8T4M5QT:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:61598/.well-known/openid-configuration   (ca22a1cb)
2020-05-01T12:01:15.3015946+08:00 0HLVDE8T4M5QT:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-05-01T12:01:15.3015946+08:00 0HLVDE8T4M5QT:00000001 [INF] Request finished in 0.8211ms 200 application/json; charset=UTF-8 (791a596a)
2020-05-01T12:01:15.4135905+08:00 0HLVDE8T4M5QT:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:61598/.well-known/openid-configuration/jwks   (ca22a1cb)
2020-05-01T12:01:15.4135905+08:00 0HLVDE8T4M5QT:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-05-01T12:01:15.4135905+08:00 0HLVDE8T4M5QT:00000002 [INF] Request finished in 0.8631ms 200 application/jwk-set+json; charset=UTF-8 (791a596a)
2020-05-01T12:01:15.4322634+08:00 0HLVDE8T4M5QS:00000006 [INF] Successfully validated the token. (60169667)
2020-05-01T12:01:15.4480224+08:00 0HLVDE8T4M5QS:00000006 [INF] Authorization was successful. (0d575a54)
2020-05-01T12:01:15.4485948+08:00 0HLVDE8T4M5QS:00000006 [INF] Executing action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" - Validation state: Valid (dad538d7)
2020-05-01T12:01:15.4515951+08:00 0HLVDE8T4M5QS:00000006 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:01:15.4903537+08:00 0HLVDE8T4M5QS:00000006 [INF] Executed DbCommand ("29"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2020-05-01T12:01:15.4915972+08:00 0HLVDE8T4M5QS:00000006 [INF] Executed action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 42.9509ms. (50a9e262)
2020-05-01T12:01:15.4915972+08:00 0HLVDE8T4M5QS:00000006 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:01:15.5075938+08:00 0HLVDE8T4M5QS:00000006 [INF] Executed action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" in 2077.3726ms (afa2e885)
2020-05-01T12:01:15.5084203+08:00 0HLVDE8T4M5QS:00000006 [INF] Request finished in 2081.7354ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:01:17.3456273+08:00 0HLVDE8T4M5QT:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/4   (ca22a1cb)
2020-05-01T12:01:17.3456273+08:00 0HLVDE8T4M5QT:00000003 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:17.3456273+08:00 0HLVDE8T4M5QT:00000003 [INF] Request finished in 0.271ms 204  (791a596a)
2020-05-01T12:01:17.3508298+08:00 0HLVDE8T4M5QS:00000007 [INF] Request starting HTTP/1.1 DELETE http://localhost:61598/api/v1/poll/4   (ca22a1cb)
2020-05-01T12:01:17.3508298+08:00 0HLVDE8T4M5QS:00000007 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:17.3590147+08:00 0HLVDE8T4M5QS:00000007 [INF] Route matched with "{action = \"DeletePollById\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.DeletePollById (vote)" (a44c0341)
2020-05-01T12:01:17.3595936+08:00 0HLVDE8T4M5QS:00000007 [INF] Successfully validated the token. (60169667)
2020-05-01T12:01:17.3605929+08:00 0HLVDE8T4M5QS:00000007 [INF] Authorization was successful. (0d575a54)
2020-05-01T12:01:17.9576804+08:00 0HLVDE8T4M5QS:00000007 [INF] Executing action method "vote.Controllers.v1.PollController.DeletePollById (vote)" with arguments (["4"]) - Validation state: Valid (4e3479ed)
2020-05-01T12:01:17.9615904+08:00 0HLVDE8T4M5QS:00000007 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:01:17.9775921+08:00 0HLVDE8T4M5QS:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int64), @__poll_Id_1='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId]
FROM [Poll] AS [p]
WHERE ([p].[UserId] = @__userId_0) AND ([p].[Id] = @__poll_Id_1)" (0723d8ff)
2020-05-01T12:01:18.0945941+08:00 0HLVDE8T4M5QS:00000007 [INF] Executed DbCommand ("82"ms) [Parameters=["@p0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Poll]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2020-05-01T12:01:18.1435939+08:00 0HLVDE8T4M5QS:00000007 [INF] Executed DbCommand ("49"ms) [Parameters=["@p1='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [PollProp]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2020-05-01T12:01:18.2315977+08:00 0HLVDE8T4M5QS:00000007 [INF] Executed action method "vote.Controllers.v1.PollController.DeletePollById (vote)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 273.3289ms. (50a9e262)
2020-05-01T12:01:18.2345915+08:00 0HLVDE8T4M5QS:00000007 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204 (e28ccfae)
2020-05-01T12:01:18.2345915+08:00 0HLVDE8T4M5QS:00000007 [INF] Executed action "vote.Controllers.v1.PollController.DeletePollById (vote)" in 875.6248ms (afa2e885)
2020-05-01T12:01:18.2345915+08:00 0HLVDE8T4M5QS:00000007 [INF] Request finished in 884.0938ms 204  (791a596a)
2020-05-01T12:01:19.9226866+08:00 0HLVDE8T4M5QT:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/5   (ca22a1cb)
2020-05-01T12:01:19.9226866+08:00 0HLVDE8T4M5QT:00000004 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:19.9226866+08:00 0HLVDE8T4M5QT:00000004 [INF] Request finished in 0.2095ms 204  (791a596a)
2020-05-01T12:01:19.9276486+08:00 0HLVDE8T4M5QS:00000008 [INF] Request starting HTTP/1.1 DELETE http://localhost:61598/api/v1/poll/5   (ca22a1cb)
2020-05-01T12:01:19.9276486+08:00 0HLVDE8T4M5QS:00000008 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:19.9276486+08:00 0HLVDE8T4M5QS:00000008 [INF] Route matched with "{action = \"DeletePollById\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.DeletePollById (vote)" (a44c0341)
2020-05-01T12:01:19.9285948+08:00 0HLVDE8T4M5QS:00000008 [INF] Successfully validated the token. (60169667)
2020-05-01T12:01:19.9285948+08:00 0HLVDE8T4M5QS:00000008 [INF] Authorization was successful. (0d575a54)
2020-05-01T12:01:19.9300295+08:00 0HLVDE8T4M5QS:00000008 [INF] Executing action method "vote.Controllers.v1.PollController.DeletePollById (vote)" with arguments (["5"]) - Validation state: Valid (4e3479ed)
2020-05-01T12:01:19.9305918+08:00 0HLVDE8T4M5QS:00000008 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:01:19.9315953+08:00 0HLVDE8T4M5QS:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int64), @__poll_Id_1='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId]
FROM [Poll] AS [p]
WHERE ([p].[UserId] = @__userId_0) AND ([p].[Id] = @__poll_Id_1)" (0723d8ff)
2020-05-01T12:01:19.9336563+08:00 0HLVDE8T4M5QS:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Poll]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2020-05-01T12:01:19.9342129+08:00 0HLVDE8T4M5QS:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@p1='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [PollProp]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2020-05-01T12:01:19.9345915+08:00 0HLVDE8T4M5QS:00000008 [INF] Executed action method "vote.Controllers.v1.PollController.DeletePollById (vote)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 4.7577ms. (50a9e262)
2020-05-01T12:01:19.9345915+08:00 0HLVDE8T4M5QS:00000008 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204 (e28ccfae)
2020-05-01T12:01:19.9345915+08:00 0HLVDE8T4M5QS:00000008 [INF] Executed action "vote.Controllers.v1.PollController.DeletePollById (vote)" in 7.1173ms (afa2e885)
2020-05-01T12:01:19.9355930+08:00 0HLVDE8T4M5QS:00000008 [INF] Request finished in 7.8631ms 204  (791a596a)
2020-05-01T12:01:21.3265050+08:00 0HLVDE8T4M5QT:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T12:01:21.3265924+08:00 0HLVDE8T4M5QT:00000005 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:21.3265924+08:00 0HLVDE8T4M5QT:00000005 [INF] Request finished in 0.2375ms 204  (791a596a)
2020-05-01T12:01:21.3315920+08:00 0HLVDE8T4M5QS:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T12:01:21.3315920+08:00 0HLVDE8T4M5QS:00000009 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:21.3315920+08:00 0HLVDE8T4M5QS:00000009 [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T12:01:21.3315920+08:00 0HLVDE8T4M5QS:00000009 [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T12:01:21.3329948+08:00 0HLVDE8T4M5QS:00000009 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:01:21.3336813+08:00 0HLVDE8T4M5QS:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T12:01:21.3336813+08:00 0HLVDE8T4M5QS:00000009 [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.9107ms. (50a9e262)
2020-05-01T12:01:21.3336813+08:00 0HLVDE8T4M5QS:00000009 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:01:21.3345940+08:00 0HLVDE8T4M5QS:00000009 [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 3.0457ms (afa2e885)
2020-05-01T12:01:21.3356026+08:00 0HLVDE8T4M5QS:00000009 [INF] Request finished in 4.1371ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:01:24.6718291+08:00 0HLVDE8T4M5QT:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/user   (ca22a1cb)
2020-05-01T12:01:24.6726534+08:00 0HLVDE8T4M5QT:00000006 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:24.6726534+08:00 0HLVDE8T4M5QT:00000006 [INF] Request finished in 0.2665ms 204  (791a596a)
2020-05-01T12:01:24.6776237+08:00 0HLVDE8T4M5QS:0000000A [INF] Request starting HTTP/1.1 DELETE http://localhost:61598/api/v1/user   (ca22a1cb)
2020-05-01T12:01:24.6776237+08:00 0HLVDE8T4M5QS:0000000A [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:24.6816682+08:00 0HLVDE8T4M5QS:0000000A [INF] Route matched with "{action = \"UnRegister\", controller = \"User\", page = \"\"}". Executing action "vote.UserController.v1.UserController.UnRegister (vote)" (a44c0341)
2020-05-01T12:01:24.6826271+08:00 0HLVDE8T4M5QS:0000000A [INF] Successfully validated the token. (60169667)
2020-05-01T12:01:24.6826271+08:00 0HLVDE8T4M5QS:0000000A [INF] Authorization was successful. (0d575a54)
2020-05-01T12:01:24.6838769+08:00 0HLVDE8T4M5QS:0000000A [INF] Executing action method "vote.UserController.v1.UserController.UnRegister (vote)" - Validation state: Valid (dad538d7)
2020-05-01T12:01:24.6865981+08:00 0HLVDE8T4M5QS:0000000A [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:01:25.0487369+08:00 0HLVDE8T4M5QS:0000000A [INF] Executed DbCommand ("355"ms) [Parameters=["@p0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [User]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2020-05-01T12:01:25.0497408+08:00 0HLVDE8T4M5QS:0000000A [INF] Executed action method "vote.UserController.v1.UserController.UnRegister (vote)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 365.564ms. (50a9e262)
2020-05-01T12:01:25.0497408+08:00 0HLVDE8T4M5QS:0000000A [INF] Executing HttpStatusCodeResult, setting HTTP status code 204 (e28ccfae)
2020-05-01T12:01:25.0497408+08:00 0HLVDE8T4M5QS:0000000A [INF] Executed action "vote.UserController.v1.UserController.UnRegister (vote)" in 367.3866ms (afa2e885)
2020-05-01T12:01:25.0497408+08:00 0HLVDE8T4M5QS:0000000A [INF] Request finished in 372.1154ms 204  (791a596a)
2020-05-01T12:01:25.1055938+08:00 0HLVDE8T4M5QT:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6ImI4M2EyOWYwM2Q3YWJjMzAyYTM3M2Q1OWI0ODNmMGFhIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1ODgzMDU2NjQsImV4cCI6MTU4ODMwNTk2NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo2MTU5OCIsImF1ZCI6ImpzIiwibm9uY2UiOiIwMGVjOGY5OTUwYWI0MzdiYjVhNmRhMzhhMTA2ZDBlMCIsImlhdCI6MTU4ODMwNTY2NCwiYXRfaGFzaCI6IlE1RGw2SkZSamYzdk0wQjM1ajBRM1EiLCJzaWQiOiIwYjhkMWNkYmRlNWNkOTBmZDQ0OGE1OWNjMTkzMTI1YSIsInN1YiI6IjEiLCJhdXRoX3RpbWUiOjE1ODgzMDU2NjIsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.YOGdPz0gbrvWj8bhGBborxNHaVuf7-nENFAP-9nNiXIdppn14h4tEjSQu0rUENZh0O8SdGCMjRqxWK28WdwiZNXyAJKiMktm-HRvROQ3KIonk4BhWVuj9pW-_0_hI7bdtnXhpCHRxypjZkbBkITTotxsRpAMWsaR-l0DYpUVBmweAQaOVMN2bxs2KYYgzyKiV5RkFQEt0kYfn9I-u2Wcr8io6biVY2ccILZPepaljXIhVCxm97O0mO-7LJFEpcQX32jU2qFnlEQyaDE86cOmrY1ToRgeR3wlYYi-b3QsSPcy64tn5AGv1Ek49RpDMvslSHRJOuJEQmjMglBoVh1LIA&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A5000   (ca22a1cb)
2020-05-01T12:01:25.1055938+08:00 0HLVDE8T4M5QS:0000000B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/user/logout   (ca22a1cb)
2020-05-01T12:01:25.1055938+08:00 0HLVDE8T4M5QS:0000000B [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:25.1065963+08:00 0HLVDE8T4M5QS:0000000B [INF] Request finished in 0.2002ms 204  (791a596a)
2020-05-01T12:01:25.1075939+08:00 0HLVDE8T4M5QT:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2020-05-01T12:01:25.1145936+08:00 0HLVDE8T4M5QS:0000000C [INF] Request starting HTTP/1.1 POST http://localhost:61598/api/v1/user/logout  0 (ca22a1cb)
2020-05-01T12:01:25.1145936+08:00 0HLVDE8T4M5QS:0000000C [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:25.1226059+08:00 0HLVDE8T4M5QS:0000000C [INF] Route matched with "{action = \"Logout\", controller = \"User\", page = \"\"}". Executing action "vote.UserController.v1.UserController.Logout (vote)" (a44c0341)
2020-05-01T12:01:25.1235933+08:00 0HLVDE8T4M5QS:0000000C [INF] Successfully validated the token. (60169667)
2020-05-01T12:01:25.1235933+08:00 0HLVDE8T4M5QS:0000000C [INF] Authorization was successful. (0d575a54)
2020-05-01T12:01:25.1235933+08:00 0HLVDE8T4M5QS:0000000C [INF] Executing action method "vote.UserController.v1.UserController.Logout (vote)" - Validation state: Valid (dad538d7)
2020-05-01T12:01:25.1605944+08:00 0HLVDE8T4M5QS:0000000C [INF] AuthenticationScheme: "Cookies" signed out. (d3f50c8d)
2020-05-01T12:01:25.1615952+08:00 0HLVDE8T4M5QT:00000007 [INF] End session request validation success
EndSessionRequestValidationLog { ClientId: "js", ClientName: "JavaScript Client", SubjectId: "1", PostLogOutUri: "http://localhost:5000", State: null, Raw: [("id_token_hint": "***REDACTED***"), ("post_logout_redirect_uri": "http://localhost:5000")] } (a6ad0f1e)
2020-05-01T12:01:25.1645926+08:00 0HLVDE8T4M5QS:0000000C [INF] Executed action method "vote.UserController.v1.UserController.Logout (vote)", returned result "Microsoft.AspNetCore.Mvc.LocalRedirectResult" in 40.1024ms. (50a9e262)
2020-05-01T12:01:25.1715929+08:00 0HLVDE8T4M5QS:0000000C [INF] Executing LocalRedirectResult, redirecting to "/". (cac120e6)
2020-05-01T12:01:25.1715929+08:00 0HLVDE8T4M5QS:0000000C [INF] Executed action "vote.UserController.v1.UserController.Logout (vote)" in 48.7605ms (afa2e885)
2020-05-01T12:01:25.1715929+08:00 0HLVDE8T4M5QS:0000000C [INF] Request finished in 57.3329ms 302  (791a596a)
2020-05-01T12:01:25.1815940+08:00 0HLVDE8T4M5QT:00000007 [INF] Request finished in 76.6085ms 302  (791a596a)
2020-05-01T12:01:25.1896061+08:00 0HLVDE8T4M5QS:0000000D [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/   (ca22a1cb)
2020-05-01T12:01:25.1896061+08:00 0HLVDE8T4M5QS:0000000D [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:25.1905941+08:00 0HLVDE8T4M5QS:0000000D [INF] Request finished in 0.3732ms 204  (791a596a)
2020-05-01T12:01:25.1975931+08:00 0HLVDE8T4M5QT:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:61598/   (ca22a1cb)
2020-05-01T12:01:25.1975931+08:00 0HLVDE8T4M5QT:00000008 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:26.3787070+08:00 0HLVDE8T4M5QS:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T12:01:26.3787070+08:00 0HLVDE8T4M5QS:0000000E [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:01:26.3787070+08:00 0HLVDE8T4M5QS:0000000E [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T12:01:26.3787070+08:00 0HLVDE8T4M5QS:0000000E [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T12:01:26.3795951+08:00 0HLVDE8T4M5QS:0000000E [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:01:26.3985937+08:00 0HLVDE8T4M5QS:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T12:01:26.3985937+08:00 0HLVDE8T4M5QS:0000000E [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 19.7507ms. (50a9e262)
2020-05-01T12:01:26.4006619+08:00 0HLVDE8T4M5QS:0000000E [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:01:26.4006619+08:00 0HLVDE8T4M5QS:0000000E [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 21.58ms (afa2e885)
2020-05-01T12:01:26.4006619+08:00 0HLVDE8T4M5QS:0000000E [INF] Request finished in 22.4263ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:01:27.2626045+08:00 0HLVDE8T4M5QT:00000008 [INF] Request finished in 2065.117ms 200 text/html; charset=UTF-8 (791a596a)
2020-05-01T12:33:57.2766825+08:00 0HLVDE8T4M5QU:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/user   (ca22a1cb)
2020-05-01T12:33:57.2766825+08:00 0HLVDE8T4M5QU:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:33:57.2766825+08:00 0HLVDE8T4M5QU:00000001 [INF] Request finished in 0.7673ms 204  (791a596a)
2020-05-01T12:33:57.2830371+08:00 0HLVDE8T4M5QU:00000002 [INF] Request starting HTTP/1.1 PUT http://localhost:61598/api/v1/user application/json 41 (ca22a1cb)
2020-05-01T12:33:57.2830371+08:00 0HLVDE8T4M5QU:00000002 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:33:57.2916915+08:00 0HLVDE8T4M5QU:00000002 [INF] Route matched with "{action = \"Register\", controller = \"User\", page = \"\"}". Executing action "vote.UserController.v1.UserController.Register (vote)" (a44c0341)
2020-05-01T12:33:57.2958047+08:00 0HLVDE8T4M5QU:00000002 [INF] Executing action method "vote.UserController.v1.UserController.Register (vote)" with arguments (["vote.Models.ApplicationUser"]) - Validation state: Valid (4e3479ed)
2020-05-01T12:33:57.3036870+08:00 0HLVDE8T4M5QU:00000002 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:33:59.1946831+08:00 0HLVDE8T4M5QU:00000002 [INF] Executed DbCommand ("121"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (Size = 15), @p2='?' (DbType = DateTime2), @p3='?' (Size = 16), @p4='?' (Size = 15)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [User] ([CreatedAt], [Displayname], [LastLogin], [Password], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2020-05-01T12:33:59.2203213+08:00 0HLVDE8T4M5QU:00000002 [INF] Executed action method "vote.UserController.v1.UserController.Register (vote)", returned result "Microsoft.AspNetCore.Mvc.CreatedAtActionResult" in 1924.1905ms. (50a9e262)
2020-05-01T12:33:59.2203213+08:00 0HLVDE8T4M5QU:00000002 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:33:59.3386836+08:00 0HLVDE8T4M5QU:00000002 [INF] Executed action "vote.UserController.v1.UserController.Register (vote)" in 2046.3431ms (afa2e885)
2020-05-01T12:33:59.3386836+08:00 0HLVDE8T4M5QU:00000002 [INF] Request finished in 2056.2259ms 201 application/json; charset=utf-8 (791a596a)
2020-05-01T12:36:36.5945480+08:00 0HLVDE8T4M5QV:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/user/login   (ca22a1cb)
2020-05-01T12:36:36.5945480+08:00 0HLVDE8T4M5QV:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:36:36.5945480+08:00 0HLVDE8T4M5QV:00000001 [INF] Request finished in 0.5055ms 204  (791a596a)
2020-05-01T12:36:36.6015519+08:00 0HLVDE8T4M5QV:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:61598/api/v1/user/login application/json 41 (ca22a1cb)
2020-05-01T12:36:36.6015519+08:00 0HLVDE8T4M5QV:00000002 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:36:36.6015519+08:00 0HLVDE8T4M5QV:00000002 [INF] Route matched with "{action = \"Login\", controller = \"User\", page = \"\"}". Executing action "vote.UserController.v1.UserController.Login (vote)" (a44c0341)
2020-05-01T12:36:36.6025504+08:00 0HLVDE8T4M5QV:00000002 [INF] Executing action method "vote.UserController.v1.UserController.Login (vote)" with arguments (["vote.Models.ApplicationUser"]) - Validation state: Valid (4e3479ed)
2020-05-01T12:36:36.6035500+08:00 0HLVDE8T4M5QV:00000002 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:36:36.6085741+08:00 0HLVDE8T4M5QV:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__user_Username_0='?' (Size = 15), @__user_Password_1='?' (Size = 16)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [o].[Id], [o].[CreatedAt], [o].[Displayname], [o].[LastLogin], [o].[Password], [o].[Username]
FROM [User] AS [o]
WHERE ([o].[Username] = @__user_Username_0) AND ([o].[Password] = @__user_Password_1)" (0723d8ff)
2020-05-01T12:36:36.6105501+08:00 0HLVDE8T4M5QV:00000002 [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2020-05-01T12:36:36.6166293+08:00 0HLVDE8T4M5QV:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@p5='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (Size = 15), @p2='?' (DbType = DateTime2), @p3='?' (Size = 16), @p4='?' (Size = 15)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [User] SET [CreatedAt] = @p0, [Displayname] = @p1, [LastLogin] = @p2, [Password] = @p3, [Username] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2020-05-01T12:36:36.6175542+08:00 0HLVDE8T4M5QV:00000002 [INF] Executed action method "vote.UserController.v1.UserController.Login (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 14.9479ms. (50a9e262)
2020-05-01T12:36:36.6175542+08:00 0HLVDE8T4M5QV:00000002 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:36:36.6185510+08:00 0HLVDE8T4M5QV:00000002 [INF] Executed action "vote.UserController.v1.UserController.Login (vote)" in 16.2163ms (afa2e885)
2020-05-01T12:36:36.6185510+08:00 0HLVDE8T4M5QV:00000002 [INF] Request finished in 17.0649ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:36:36.7185527+08:00 0HLVDE8T4M5QV:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:61598/.well-known/openid-configuration   (ca22a1cb)
2020-05-01T12:36:36.7185527+08:00 0HLVDE8T4M5QV:00000003 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:36:36.7185527+08:00 0HLVDE8T4M5QV:00000003 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"ConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=vote " (9958f5bb)
2020-05-01T12:36:36.8276815+08:00 0HLVDE8T4M5QV:00000003 [INF] Executed DbCommand ("108"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.AllowedCorsOrigins].[Origin]
FROM [Clients] AS [x]
INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]" (0723d8ff)
2020-05-01T12:36:36.8276815+08:00 0HLVDE8T4M5QV:00000003 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:36:36.8276815+08:00 0HLVDE8T4M5QV:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-05-01T12:36:36.8395639+08:00 0HLVDE8T4M5QV:00000003 [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Created], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[NonEditable], [x].[Required], [x].[ShowInDiscoveryDocument], [x].[Updated]
FROM [IdentityResources] AS [x]
ORDER BY [x].[Id]" (0723d8ff)
2020-05-01T12:36:36.8589773+08:00 0HLVDE8T4M5QV:00000003 [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
FROM [IdentityClaims] AS [x.UserClaims]
INNER JOIN (
    SELECT [x0].[Id]
    FROM [IdentityResources] AS [x0]
) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
ORDER BY [t].[Id]" (0723d8ff)
2020-05-01T12:36:36.8615495+08:00 0HLVDE8T4M5QV:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Properties].[Id], [x.Properties].[IdentityResourceId], [x.Properties].[Key], [x.Properties].[Value]
FROM [IdentityProperties] AS [x.Properties]
INNER JOIN (
    SELECT [x1].[Id]
    FROM [IdentityResources] AS [x1]
) AS [t0] ON [x.Properties].[IdentityResourceId] = [t0].[Id]
ORDER BY [t0].[Id]" (0723d8ff)
2020-05-01T12:36:36.8856004+08:00 0HLVDE8T4M5QV:00000003 [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Created], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[LastAccessed], [x].[Name], [x].[NonEditable], [x].[Updated]
FROM [ApiResources] AS [x]
ORDER BY [x].[Id]" (0723d8ff)
2020-05-01T12:36:36.8884406+08:00 0HLVDE8T4M5QV:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Created], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
FROM [ApiSecrets] AS [x.Secrets]
INNER JOIN (
    SELECT [x0].[Id]
    FROM [ApiResources] AS [x0]
) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
ORDER BY [t].[Id]" (0723d8ff)
2020-05-01T12:36:36.9205603+08:00 0HLVDE8T4M5QV:00000003 [INF] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [x.Scopes]
INNER JOIN (
    SELECT [x1].[Id]
    FROM [ApiResources] AS [x1]
) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
ORDER BY [t0].[Id], [x.Scopes].[Id]" (0723d8ff)
2020-05-01T12:36:36.9255475+08:00 0HLVDE8T4M5QV:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
INNER JOIN (
    SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
    FROM [ApiScopes] AS [x.Scopes0]
    INNER JOIN (
        SELECT [x2].[Id]
        FROM [ApiResources] AS [x2]
    ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
ORDER BY [t2].[Id0], [t2].[Id]" (0723d8ff)
2020-05-01T12:36:36.9324231+08:00 0HLVDE8T4M5QV:00000003 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
FROM [ApiClaims] AS [x.UserClaims]
INNER JOIN (
    SELECT [x3].[Id]
    FROM [ApiResources] AS [x3]
) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
ORDER BY [t3].[Id]" (0723d8ff)
2020-05-01T12:36:36.9355984+08:00 0HLVDE8T4M5QV:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Properties].[Id], [x.Properties].[ApiResourceId], [x.Properties].[Key], [x.Properties].[Value]
FROM [ApiProperties] AS [x.Properties]
INNER JOIN (
    SELECT [x4].[Id]
    FROM [ApiResources] AS [x4]
) AS [t4] ON [x.Properties].[ApiResourceId] = [t4].[Id]
ORDER BY [t4].[Id]" (0723d8ff)
2020-05-01T12:36:36.9375491+08:00 0HLVDE8T4M5QV:00000003 [INF] Request finished in 219.0487ms 200 application/json; charset=UTF-8 (791a596a)
2020-05-01T12:36:36.9506002+08:00 0HLVDE8T4M5QV:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/authorize?client_id=js&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fauth-callback&response_type=id_token%20token&scope=openid%20profile%20api1&state=299a5db614054adf8af16618da575f0c&nonce=a244a810478a4b3a88186f60c49c38bc&display=popup   (ca22a1cb)
2020-05-01T12:36:36.9506002+08:00 0HLVDE8T4M5QV:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2020-05-01T12:36:36.9525508+08:00 0HLVDE8T4M5QV:00000004 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"ConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=vote " (9958f5bb)
2020-05-01T12:36:36.9706529+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("17"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Created], [x].[Description], [x].[DeviceCodeLifetime], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LastAccessed], [x].[LogoUri], [x].[NonEditable], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh], [x].[Updated], [x].[UserCodeType], [x].[UserSsoLifetime]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id]" (0723d8ff)
2020-05-01T12:36:37.0080516+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("37"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
INNER JOIN (
    SELECT TOP(1) [x0].[Id]
    FROM [Clients] AS [x0]
    WHERE [x0].[ClientId] = @__clientId_0
    ORDER BY [x0].[Id]
) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
ORDER BY [t].[Id]" (0723d8ff)
2020-05-01T12:36:37.0377825+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("29"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
FROM [ClientRedirectUris] AS [x.RedirectUris]
INNER JOIN (
    SELECT TOP(1) [x1].[Id]
    FROM [Clients] AS [x1]
    WHERE [x1].[ClientId] = @__clientId_0
    ORDER BY [x1].[Id]
) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
ORDER BY [t0].[Id]" (0723d8ff)
2020-05-01T12:36:37.0528329+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
INNER JOIN (
    SELECT TOP(1) [x2].[Id]
    FROM [Clients] AS [x2]
    WHERE [x2].[ClientId] = @__clientId_0
    ORDER BY [x2].[Id]
) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
ORDER BY [t1].[Id]" (0723d8ff)
2020-05-01T12:36:37.0575908+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
FROM [ClientScopes] AS [x.AllowedScopes]
INNER JOIN (
    SELECT TOP(1) [x3].[Id]
    FROM [Clients] AS [x3]
    WHERE [x3].[ClientId] = @__clientId_0
    ORDER BY [x3].[Id]
) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
ORDER BY [t2].[Id]" (0723d8ff)
2020-05-01T12:36:37.0625919+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Created], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
FROM [ClientSecrets] AS [x.ClientSecrets]
INNER JOIN (
    SELECT TOP(1) [x4].[Id]
    FROM [Clients] AS [x4]
    WHERE [x4].[ClientId] = @__clientId_0
    ORDER BY [x4].[Id]
) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
ORDER BY [t3].[Id]" (0723d8ff)
2020-05-01T12:36:37.0665517+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
FROM [ClientClaims] AS [x.Claims]
INNER JOIN (
    SELECT TOP(1) [x5].[Id]
    FROM [Clients] AS [x5]
    WHERE [x5].[ClientId] = @__clientId_0
    ORDER BY [x5].[Id]
) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
ORDER BY [t4].[Id]" (0723d8ff)
2020-05-01T12:36:37.0705500+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
INNER JOIN (
    SELECT TOP(1) [x6].[Id]
    FROM [Clients] AS [x6]
    WHERE [x6].[ClientId] = @__clientId_0
    ORDER BY [x6].[Id]
) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
ORDER BY [t5].[Id]" (0723d8ff)
2020-05-01T12:36:37.0745906+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
INNER JOIN (
    SELECT TOP(1) [x7].[Id]
    FROM [Clients] AS [x7]
    WHERE [x7].[ClientId] = @__clientId_0
    ORDER BY [x7].[Id]
) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
ORDER BY [t6].[Id]" (0723d8ff)
2020-05-01T12:36:37.0775765+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
FROM [ClientProperties] AS [x.Properties]
INNER JOIN (
    SELECT TOP(1) [x8].[Id]
    FROM [Clients] AS [x8]
    WHERE [x8].[ClientId] = @__clientId_0
    ORDER BY [x8].[Id]
) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
ORDER BY [t7].[Id]" (0723d8ff)
2020-05-01T12:36:37.0822305+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [identityResource].[Id], [identityResource].[Created], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[NonEditable], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument], [identityResource].[Updated]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'profile', N'api1')
ORDER BY [identityResource].[Id]" (0723d8ff)
2020-05-01T12:36:37.0855904+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
FROM [IdentityClaims] AS [identityResource.UserClaims]
INNER JOIN (
    SELECT [identityResource0].[Id]
    FROM [IdentityResources] AS [identityResource0]
    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'api1')
) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
ORDER BY [t].[Id]" (0723d8ff)
2020-05-01T12:36:37.0890980+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [identityResource.Properties].[Id], [identityResource.Properties].[IdentityResourceId], [identityResource.Properties].[Key], [identityResource.Properties].[Value]
FROM [IdentityProperties] AS [identityResource.Properties]
INNER JOIN (
    SELECT [identityResource1].[Id]
    FROM [IdentityResources] AS [identityResource1]
    WHERE [identityResource1].[Name] IN (N'openid', N'profile', N'api1')
) AS [t0] ON [identityResource.Properties].[IdentityResourceId] = [t0].[Id]
ORDER BY [t0].[Id]" (0723d8ff)
2020-05-01T12:36:37.0945471+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api].[Id], [api].[Created], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[LastAccessed], [api].[Name], [api].[NonEditable], [api].[Updated]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'profile', N'api1') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id]" (0723d8ff)
2020-05-01T12:36:37.1085468+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Created], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]
FROM [ApiSecrets] AS [api.Secrets]
INNER JOIN (
    SELECT [api0].[Id]
    FROM [ApiResources] AS [api0]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x0]
        WHERE [x0].[Name] IN (N'openid', N'profile', N'api1') AND ([api0].[Id] = [x0].[ApiResourceId]))
) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]
ORDER BY [t].[Id]" (0723d8ff)
2020-05-01T12:36:37.1225496+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [api.Scopes]
INNER JOIN (
    SELECT [api1].[Id]
    FROM [ApiResources] AS [api1]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x1]
        WHERE [x1].[Name] IN (N'openid', N'profile', N'api1') AND ([api1].[Id] = [x1].[ApiResourceId]))
) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]
ORDER BY [t0].[Id], [api.Scopes].[Id]" (0723d8ff)
2020-05-01T12:36:37.1437233+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]
FROM [ApiScopeClaims] AS [api.Scopes.UserClaims]
INNER JOIN (
    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]
    FROM [ApiScopes] AS [api.Scopes0]
    INNER JOIN (
        SELECT [api2].[Id]
        FROM [ApiResources] AS [api2]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x2]
            WHERE [x2].[Name] IN (N'openid', N'profile', N'api1') AND ([api2].[Id] = [x2].[ApiResourceId]))
    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]
) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
ORDER BY [t2].[Id0], [t2].[Id]" (0723d8ff)
2020-05-01T12:36:37.1585859+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]
FROM [ApiClaims] AS [api.UserClaims]
INNER JOIN (
    SELECT [api3].[Id]
    FROM [ApiResources] AS [api3]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x3]
        WHERE [x3].[Name] IN (N'openid', N'profile', N'api1') AND ([api3].[Id] = [x3].[ApiResourceId]))
) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]
ORDER BY [t3].[Id]" (0723d8ff)
2020-05-01T12:36:37.1739137+08:00 0HLVDE8T4M5QV:00000004 [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api.Properties].[Id], [api.Properties].[ApiResourceId], [api.Properties].[Key], [api.Properties].[Value]
FROM [ApiProperties] AS [api.Properties]
INNER JOIN (
    SELECT [api4].[Id]
    FROM [ApiResources] AS [api4]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x4]
        WHERE [x4].[Name] IN (N'openid', N'profile', N'api1') AND ([api4].[Id] = [x4].[ApiResourceId]))
) AS [t4] ON [api.Properties].[ApiResourceId] = [t4].[Id]
ORDER BY [t4].[Id]" (0723d8ff)
2020-05-01T12:36:37.1867009+08:00 0HLVDE8T4M5QV:00000004 [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2020-05-01T12:36:37.1875492+08:00 0HLVDE8T4M5QV:00000004 [INF] Request finished in 236.9835ms 302  (791a596a)
2020-05-01T12:36:38.5929844+08:00 0HLVDE8T4M5QV:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:61598/.well-known/openid-configuration/jwks   (ca22a1cb)
2020-05-01T12:36:38.5930981+08:00 0HLVDE8T4M5QV:00000005 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:36:38.5930981+08:00 0HLVDE8T4M5QV:00000005 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:36:38.5935490+08:00 0HLVDE8T4M5QV:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-05-01T12:36:38.5945871+08:00 0HLVDE8T4M5QV:00000005 [INF] Request finished in 1.6773ms 200 application/jwk-set+json; charset=UTF-8 (791a596a)
2020-05-01T12:36:38.6347406+08:00 0HLVDE8T4M5QV:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/connect/userinfo   (ca22a1cb)
2020-05-01T12:36:38.6354909+08:00 0HLVDE8T4M5QV:00000006 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:36:38.6355497+08:00 0HLVDE8T4M5QV:00000006 [INF] Request finished in 0.2398ms 204  (791a596a)
2020-05-01T12:36:38.6385482+08:00 0HLVDE8T4M5QV:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/userinfo   (ca22a1cb)
2020-05-01T12:36:38.6385482+08:00 0HLVDE8T4M5QV:00000007 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:36:38.6395825+08:00 0HLVDE8T4M5QV:00000007 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:36:38.6395825+08:00 0HLVDE8T4M5QV:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2020-05-01T12:36:38.6455477+08:00 0HLVDE8T4M5QV:00000007 [INF] Profile service returned the following claim types: "sub name" (b824551e)
2020-05-01T12:36:38.6465512+08:00 0HLVDE8T4M5QV:00000007 [INF] Request finished in 7.3199ms 200 application/json; charset=UTF-8 (791a596a)
2020-05-01T12:36:38.6915847+08:00 0HLVDE8T4M5QV:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/checksession   (ca22a1cb)
2020-05-01T12:36:38.6926968+08:00 0HLVDE8T4M5QV:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2020-05-01T12:36:38.6926968+08:00 0HLVDE8T4M5QV:00000008 [INF] Request finished in 0.9667ms 200 text/html; charset=UTF-8 (791a596a)
2020-05-01T12:36:39.3918413+08:00 0HLVDE8T4M5QV:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:61598/.well-known/openid-configuration   (ca22a1cb)
2020-05-01T12:36:39.3918413+08:00 0HLVDE8T4M5QV:00000009 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:36:39.3918413+08:00 0HLVDE8T4M5QV:00000009 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:36:39.3918413+08:00 0HLVDE8T4M5QV:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-05-01T12:36:39.3925492+08:00 0HLVDE8T4M5QV:00000009 [INF] Request finished in 0.8644ms 200 application/json; charset=UTF-8 (791a596a)
2020-05-01T12:36:39.4785493+08:00 0HLVDE8T4M5QV:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/checksession   (ca22a1cb)
2020-05-01T12:36:39.4785493+08:00 0HLVDE8T4M5QV:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2020-05-01T12:36:39.4795505+08:00 0HLVDE8T4M5QV:0000000A [INF] Request finished in 1.4694ms 200 text/html; charset=UTF-8 (791a596a)
2020-05-01T12:36:40.1349103+08:00 0HLVDE8T4M5QV:0000000B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T12:36:40.1349103+08:00 0HLVDE8T4M5QV:0000000B [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:36:40.1355498+08:00 0HLVDE8T4M5QV:0000000B [INF] Request finished in 0.3983ms 204  (791a596a)
2020-05-01T12:36:40.3015481+08:00 0HLVDE8T4M5QV:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T12:36:40.3015481+08:00 0HLVDE8T4M5QV:0000000C [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:36:40.3025529+08:00 0HLVDE8T4M5QV:0000000C [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T12:36:40.3025529+08:00 0HLVDE8T4M5QV:0000000C [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T12:36:40.3025529+08:00 0HLVDE8T4M5QV:0000000C [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:36:40.3159317+08:00 0HLVDE8T4M5QV:0000000C [INF] Executed DbCommand ("13"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T12:36:40.3165563+08:00 0HLVDE8T4M5QV:0000000C [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 13.5231ms. (50a9e262)
2020-05-01T12:36:40.3165563+08:00 0HLVDE8T4M5QV:0000000C [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:36:40.3165563+08:00 0HLVDE8T4M5QV:0000000C [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 14.0011ms (afa2e885)
2020-05-01T12:36:40.3165563+08:00 0HLVDE8T4M5QV:0000000C [INF] Request finished in 15.4506ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:36:44.5236224+08:00 0HLVDE8T4M5QV:0000000D [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T12:36:44.5238735+08:00 0HLVDE8T4M5QV:0000000D [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:36:44.5238735+08:00 0HLVDE8T4M5QV:0000000D [INF] Request finished in 0.3289ms 204  (791a596a)
2020-05-01T12:36:44.5285508+08:00 0HLVDE8T4M5QV:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T12:36:44.5285508+08:00 0HLVDE8T4M5QV:0000000E [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:36:44.5295495+08:00 0HLVDE8T4M5QV:0000000E [INF] Route matched with "{action = \"GetPollsByCurrentUser\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" (a44c0341)
2020-05-01T12:36:44.5305720+08:00 0HLVDE8T4M5QV:0000000E [INF] Successfully validated the token. (60169667)
2020-05-01T12:36:44.5305720+08:00 0HLVDE8T4M5QV:0000000E [INF] Authorization was successful. (0d575a54)
2020-05-01T12:36:44.5305720+08:00 0HLVDE8T4M5QV:0000000E [INF] Executing action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" - Validation state: Valid (dad538d7)
2020-05-01T12:36:44.5305720+08:00 0HLVDE8T4M5QV:0000000E [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:36:44.5345514+08:00 0HLVDE8T4M5QV:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2020-05-01T12:36:44.5345514+08:00 0HLVDE8T4M5QV:0000000E [INF] Executed action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.0215ms. (50a9e262)
2020-05-01T12:36:44.5345514+08:00 0HLVDE8T4M5QV:0000000E [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:36:44.5345514+08:00 0HLVDE8T4M5QV:0000000E [INF] Executed action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" in 5.663ms (afa2e885)
2020-05-01T12:36:44.5345514+08:00 0HLVDE8T4M5QV:0000000E [INF] Request finished in 6.6558ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:38:33.6066786+08:00 0HLVDE8T4M5R0:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6ImI4M2EyOWYwM2Q3YWJjMzAyYTM3M2Q1OWI0ODNmMGFhIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1ODgzMDc3OTcsImV4cCI6MTU4ODMwODA5NywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo2MTU5OCIsImF1ZCI6ImpzIiwibm9uY2UiOiJhMjQ0YTgxMDQ3OGE0YjNhODgxODZmNjBjNDljMzhiYyIsImlhdCI6MTU4ODMwNzc5NywiYXRfaGFzaCI6IkZrNEdGOWd6WXRBNTFDYnhoeTBXenciLCJzaWQiOiJiYWQ5YTY0ZDVkNzUyNDJhM2UxMmY4ODNmNTBlYzk0MCIsInN1YiI6IjIiLCJhdXRoX3RpbWUiOjE1ODgzMDc3OTYsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.DZisujPF-2gPjJyyUrRFklfFFNplQJghUJFmFvZmzPuPv8j8QVLZ-e-_E-_UlgRiIZJSc5wWRGLGi2UF2KOcSGg6LWq0mHpaKQsWyvkR39oEUTRcWB6_tpYhWbPGJfUI0tO3y9hRAdGsWfA2eHncidaoWTM4l0-bkDU4vWdGNnGsIykgynHDg6i-OtvoE7wQm1IRKizN5UHZxVvPCDSdpJcY3XVitKn8xxwH_I1L8hZ3aLgo60GIeA-aRrkfdgOuhWrJa5_Yc9evuR77nOFLfTIJh8YU6u4SU9IBxbegWmDaTo-eF17GZnDGZukldWWVB7v64gUEtsb-N5LtClK_qg&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A5000   (ca22a1cb)
2020-05-01T12:38:33.6066786+08:00 0HLVDE8T4M5R1:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/user/logout   (ca22a1cb)
2020-05-01T12:38:33.6066786+08:00 0HLVDE8T4M5R1:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:33.6066786+08:00 0HLVDE8T4M5R1:00000001 [INF] Request finished in 0.1487ms 204  (791a596a)
2020-05-01T12:38:33.6076805+08:00 0HLVDE8T4M5R0:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2020-05-01T12:38:33.6127740+08:00 0HLVDE8T4M5R1:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:61598/api/v1/user/logout  0 (ca22a1cb)
2020-05-01T12:38:33.6127740+08:00 0HLVDE8T4M5R1:00000002 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:33.6127740+08:00 0HLVDE8T4M5R1:00000002 [INF] Route matched with "{action = \"Logout\", controller = \"User\", page = \"\"}". Executing action "vote.UserController.v1.UserController.Logout (vote)" (a44c0341)
2020-05-01T12:38:33.6136871+08:00 0HLVDE8T4M5R0:00000001 [INF] End session request validation success
EndSessionRequestValidationLog { ClientId: "js", ClientName: "JavaScript Client", SubjectId: "2", PostLogOutUri: "http://localhost:5000", State: null, Raw: [("id_token_hint": "***REDACTED***"), ("post_logout_redirect_uri": "http://localhost:5000")] } (a6ad0f1e)
2020-05-01T12:38:33.6136871+08:00 0HLVDE8T4M5R1:00000002 [INF] Successfully validated the token. (60169667)
2020-05-01T12:38:33.6136871+08:00 0HLVDE8T4M5R1:00000002 [INF] Authorization was successful. (0d575a54)
2020-05-01T12:38:33.6136871+08:00 0HLVDE8T4M5R0:00000001 [INF] Request finished in 7.5258ms 302  (791a596a)
2020-05-01T12:38:33.6143278+08:00 0HLVDE8T4M5R1:00000002 [INF] Executing action method "vote.UserController.v1.UserController.Logout (vote)" - Validation state: Valid (dad538d7)
2020-05-01T12:38:33.6151006+08:00 0HLVDE8T4M5R1:00000002 [INF] AuthenticationScheme: "Cookies" signed out. (d3f50c8d)
2020-05-01T12:38:33.6151006+08:00 0HLVDE8T4M5R1:00000002 [INF] Executed action method "vote.UserController.v1.UserController.Logout (vote)", returned result "Microsoft.AspNetCore.Mvc.LocalRedirectResult" in 0.5326ms. (50a9e262)
2020-05-01T12:38:33.6151006+08:00 0HLVDE8T4M5R1:00000002 [INF] Executing LocalRedirectResult, redirecting to "/". (cac120e6)
2020-05-01T12:38:33.6151006+08:00 0HLVDE8T4M5R1:00000002 [INF] Executed action "vote.UserController.v1.UserController.Logout (vote)" in 2.0591ms (afa2e885)
2020-05-01T12:38:33.6151006+08:00 0HLVDE8T4M5R1:00000002 [INF] Request finished in 2.8323ms 302  (791a596a)
2020-05-01T12:38:33.6226815+08:00 0HLVDE8T4M5R0:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/   (ca22a1cb)
2020-05-01T12:38:33.6236798+08:00 0HLVDE8T4M5R0:00000002 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:33.6236798+08:00 0HLVDE8T4M5R0:00000002 [INF] Request finished in 0.2408ms 204  (791a596a)
2020-05-01T12:38:33.6286819+08:00 0HLVDE8T4M5R1:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:61598/   (ca22a1cb)
2020-05-01T12:38:33.6286819+08:00 0HLVDE8T4M5R1:00000003 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:35.0964714+08:00 0HLVDE8T4M5R0:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T12:38:35.0964714+08:00 0HLVDE8T4M5R0:00000003 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:35.0966798+08:00 0HLVDE8T4M5R0:00000003 [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T12:38:35.0966798+08:00 0HLVDE8T4M5R0:00000003 [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T12:38:35.0966798+08:00 0HLVDE8T4M5R0:00000003 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:38:35.1041610+08:00 0HLVDE8T4M5R0:00000003 [INF] Executed DbCommand ("6"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T12:38:35.1041610+08:00 0HLVDE8T4M5R0:00000003 [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.5167ms. (50a9e262)
2020-05-01T12:38:35.1046829+08:00 0HLVDE8T4M5R0:00000003 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:38:35.1046829+08:00 0HLVDE8T4M5R0:00000003 [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 8.084ms (afa2e885)
2020-05-01T12:38:35.1046829+08:00 0HLVDE8T4M5R0:00000003 [INF] Request finished in 8.7171ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:38:35.6371696+08:00 0HLVDE8T4M5R1:00000003 [INF] Request finished in 2008.3616ms 200 text/html; charset=UTF-8 (791a596a)
2020-05-01T12:38:45.6507564+08:00 0HLVDE8T4M5R0:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/user/login   (ca22a1cb)
2020-05-01T12:38:45.6507564+08:00 0HLVDE8T4M5R0:00000004 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:45.6507564+08:00 0HLVDE8T4M5R0:00000004 [INF] Request finished in 0.254ms 204  (791a596a)
2020-05-01T12:38:45.6561870+08:00 0HLVDE8T4M5R1:00000004 [INF] Request starting HTTP/1.1 POST http://localhost:61598/api/v1/user/login application/json 41 (ca22a1cb)
2020-05-01T12:38:45.6561870+08:00 0HLVDE8T4M5R1:00000004 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:45.6561870+08:00 0HLVDE8T4M5R1:00000004 [INF] Route matched with "{action = \"Login\", controller = \"User\", page = \"\"}". Executing action "vote.UserController.v1.UserController.Login (vote)" (a44c0341)
2020-05-01T12:38:45.6566829+08:00 0HLVDE8T4M5R1:00000004 [INF] Executing action method "vote.UserController.v1.UserController.Login (vote)" with arguments (["vote.Models.ApplicationUser"]) - Validation state: Valid (4e3479ed)
2020-05-01T12:38:45.6566829+08:00 0HLVDE8T4M5R1:00000004 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:38:45.6596815+08:00 0HLVDE8T4M5R1:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Username_0='?' (Size = 15), @__user_Password_1='?' (Size = 16)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [o].[Id], [o].[CreatedAt], [o].[Displayname], [o].[LastLogin], [o].[Password], [o].[Username]
FROM [User] AS [o]
WHERE ([o].[Username] = @__user_Username_0) AND ([o].[Password] = @__user_Password_1)" (0723d8ff)
2020-05-01T12:38:45.6606841+08:00 0HLVDE8T4M5R1:00000004 [INF] Executed action method "vote.UserController.v1.UserController.Login (vote)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult" in 3.5916ms. (50a9e262)
2020-05-01T12:38:45.6606841+08:00 0HLVDE8T4M5R1:00000004 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:38:45.6616832+08:00 0HLVDE8T4M5R1:00000004 [INF] Executed action "vote.UserController.v1.UserController.Login (vote)" in 5.6442ms (afa2e885)
2020-05-01T12:38:45.6616832+08:00 0HLVDE8T4M5R1:00000004 [INF] Request finished in 6.2186ms 400 application/json; charset=utf-8 (791a596a)
2020-05-01T12:38:56.6410131+08:00 0HLVDE8T4M5R0:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/user/login   (ca22a1cb)
2020-05-01T12:38:56.6410131+08:00 0HLVDE8T4M5R0:00000005 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:56.6410131+08:00 0HLVDE8T4M5R0:00000005 [INF] Request finished in 0.3312ms 204  (791a596a)
2020-05-01T12:38:56.6456826+08:00 0HLVDE8T4M5R1:00000005 [INF] Request starting HTTP/1.1 POST http://localhost:61598/api/v1/user/login application/json 41 (ca22a1cb)
2020-05-01T12:38:56.6456826+08:00 0HLVDE8T4M5R1:00000005 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:56.6456826+08:00 0HLVDE8T4M5R1:00000005 [INF] Route matched with "{action = \"Login\", controller = \"User\", page = \"\"}". Executing action "vote.UserController.v1.UserController.Login (vote)" (a44c0341)
2020-05-01T12:38:56.6467083+08:00 0HLVDE8T4M5R1:00000005 [INF] Executing action method "vote.UserController.v1.UserController.Login (vote)" with arguments (["vote.Models.ApplicationUser"]) - Validation state: Valid (4e3479ed)
2020-05-01T12:38:56.6476940+08:00 0HLVDE8T4M5R1:00000005 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:38:56.6486794+08:00 0HLVDE8T4M5R1:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Username_0='?' (Size = 15), @__user_Password_1='?' (Size = 16)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [o].[Id], [o].[CreatedAt], [o].[Displayname], [o].[LastLogin], [o].[Password], [o].[Username]
FROM [User] AS [o]
WHERE ([o].[Username] = @__user_Username_0) AND ([o].[Password] = @__user_Password_1)" (0723d8ff)
2020-05-01T12:38:56.6486794+08:00 0HLVDE8T4M5R1:00000005 [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2020-05-01T12:38:56.6537432+08:00 0HLVDE8T4M5R1:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@p5='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (Size = 15), @p2='?' (DbType = DateTime2), @p3='?' (Size = 16), @p4='?' (Size = 15)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [User] SET [CreatedAt] = @p0, [Displayname] = @p1, [LastLogin] = @p2, [Password] = @p3, [Username] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2020-05-01T12:38:56.6546800+08:00 0HLVDE8T4M5R1:00000005 [INF] Executed action method "vote.UserController.v1.UserController.Login (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.5612ms. (50a9e262)
2020-05-01T12:38:56.6546800+08:00 0HLVDE8T4M5R1:00000005 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:38:56.6546800+08:00 0HLVDE8T4M5R1:00000005 [INF] Executed action "vote.UserController.v1.UserController.Login (vote)" in 8.4913ms (afa2e885)
2020-05-01T12:38:56.6546800+08:00 0HLVDE8T4M5R1:00000005 [INF] Request finished in 8.9783ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:38:56.7349283+08:00 0HLVDE8T4M5R0:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:61598/.well-known/openid-configuration   (ca22a1cb)
2020-05-01T12:38:56.7349283+08:00 0HLVDE8T4M5R0:00000006 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:56.7349283+08:00 0HLVDE8T4M5R0:00000006 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:56.7349283+08:00 0HLVDE8T4M5R0:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-05-01T12:38:56.7356812+08:00 0HLVDE8T4M5R0:00000006 [INF] Request finished in 0.9953ms 200 application/json; charset=UTF-8 (791a596a)
2020-05-01T12:38:56.7778147+08:00 0HLVDE8T4M5R1:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/authorize?client_id=js&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fauth-callback&response_type=id_token%20token&scope=openid%20profile%20api1&state=560e55f014db4aabb9fc9aa1b4a61f5a&nonce=59569676746e4da3896c8525516f202f&display=popup   (ca22a1cb)
2020-05-01T12:38:56.7786834+08:00 0HLVDE8T4M5R1:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2020-05-01T12:38:56.7896810+08:00 0HLVDE8T4M5R1:00000006 [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2020-05-01T12:38:56.7896810+08:00 0HLVDE8T4M5R1:00000006 [INF] Request finished in 12.1315ms 302  (791a596a)
2020-05-01T12:38:58.0686816+08:00 0HLVDE8T4M5R0:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:61598/.well-known/openid-configuration/jwks   (ca22a1cb)
2020-05-01T12:38:58.0686816+08:00 0HLVDE8T4M5R0:00000007 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:58.0686816+08:00 0HLVDE8T4M5R0:00000007 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:58.0696935+08:00 0HLVDE8T4M5R0:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-05-01T12:38:58.0696935+08:00 0HLVDE8T4M5R0:00000007 [INF] Request finished in 0.9648ms 200 application/jwk-set+json; charset=UTF-8 (791a596a)
2020-05-01T12:38:58.1193940+08:00 0HLVDE8T4M5R1:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/connect/userinfo   (ca22a1cb)
2020-05-01T12:38:58.1196839+08:00 0HLVDE8T4M5R1:00000007 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:58.1196839+08:00 0HLVDE8T4M5R1:00000007 [INF] Request finished in 0.3309ms 204  (791a596a)
2020-05-01T12:38:58.1240136+08:00 0HLVDE8T4M5R0:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/userinfo   (ca22a1cb)
2020-05-01T12:38:58.1240136+08:00 0HLVDE8T4M5R0:00000008 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:58.1240136+08:00 0HLVDE8T4M5R0:00000008 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:58.1246821+08:00 0HLVDE8T4M5R0:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2020-05-01T12:38:58.1297094+08:00 0HLVDE8T4M5R0:00000008 [INF] Profile service returned the following claim types: "sub name" (b824551e)
2020-05-01T12:38:58.1297094+08:00 0HLVDE8T4M5R0:00000008 [INF] Request finished in 5.8844ms 200 application/json; charset=UTF-8 (791a596a)
2020-05-01T12:38:58.1456828+08:00 0HLVDE8T4M5R1:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/checksession   (ca22a1cb)
2020-05-01T12:38:58.1466824+08:00 0HLVDE8T4M5R1:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2020-05-01T12:38:58.1477884+08:00 0HLVDE8T4M5R1:00000008 [INF] Request finished in 1.7722ms 200 text/html; charset=UTF-8 (791a596a)
2020-05-01T12:38:58.9894811+08:00 0HLVDE8T4M5R0:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:61598/.well-known/openid-configuration   (ca22a1cb)
2020-05-01T12:38:58.9896781+08:00 0HLVDE8T4M5R0:00000009 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:58.9896781+08:00 0HLVDE8T4M5R0:00000009 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:58.9896781+08:00 0HLVDE8T4M5R0:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-05-01T12:38:58.9904174+08:00 0HLVDE8T4M5R0:00000009 [INF] Request finished in 0.884ms 200 application/json; charset=UTF-8 (791a596a)
2020-05-01T12:38:59.0809087+08:00 0HLVDE8T4M5R1:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/checksession   (ca22a1cb)
2020-05-01T12:38:59.0816861+08:00 0HLVDE8T4M5R1:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2020-05-01T12:38:59.0816861+08:00 0HLVDE8T4M5R1:00000009 [INF] Request finished in 1.0078ms 200 text/html; charset=UTF-8 (791a596a)
2020-05-01T12:38:59.5072875+08:00 0HLVDE8T4M5R0:0000000A [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T12:38:59.5072875+08:00 0HLVDE8T4M5R0:0000000A [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:59.5076803+08:00 0HLVDE8T4M5R0:0000000A [INF] Request finished in 0.3191ms 204  (791a596a)
2020-05-01T12:38:59.5127327+08:00 0HLVDE8T4M5R1:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T12:38:59.5127327+08:00 0HLVDE8T4M5R1:0000000A [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:38:59.5136838+08:00 0HLVDE8T4M5R1:0000000A [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T12:38:59.5136838+08:00 0HLVDE8T4M5R1:0000000A [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T12:38:59.5146862+08:00 0HLVDE8T4M5R1:0000000A [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:38:59.5156824+08:00 0HLVDE8T4M5R1:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T12:38:59.5156824+08:00 0HLVDE8T4M5R1:0000000A [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.289ms. (50a9e262)
2020-05-01T12:38:59.5156824+08:00 0HLVDE8T4M5R1:0000000A [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:38:59.5166849+08:00 0HLVDE8T4M5R1:0000000A [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 2.7841ms (afa2e885)
2020-05-01T12:38:59.5166849+08:00 0HLVDE8T4M5R1:0000000A [INF] Request finished in 3.9056ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:40:05.4116797+08:00 0HLVDE8T4M5R2:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T12:40:05.4116797+08:00 0HLVDE8T4M5R2:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:40:05.4116797+08:00 0HLVDE8T4M5R2:00000001 [INF] Request finished in 0.3236ms 204  (791a596a)
2020-05-01T12:40:05.4176790+08:00 0HLVDE8T4M5R2:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T12:40:05.4178282+08:00 0HLVDE8T4M5R2:00000002 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:40:05.4178282+08:00 0HLVDE8T4M5R2:00000002 [INF] Route matched with "{action = \"GetPollsByCurrentUser\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" (a44c0341)
2020-05-01T12:40:05.4186851+08:00 0HLVDE8T4M5R2:00000002 [INF] Successfully validated the token. (60169667)
2020-05-01T12:40:05.4186851+08:00 0HLVDE8T4M5R2:00000002 [INF] Authorization was successful. (0d575a54)
2020-05-01T12:40:05.4186851+08:00 0HLVDE8T4M5R2:00000002 [INF] Executing action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" - Validation state: Valid (dad538d7)
2020-05-01T12:40:05.4192226+08:00 0HLVDE8T4M5R2:00000002 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:40:05.4247687+08:00 0HLVDE8T4M5R2:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2020-05-01T12:40:05.4247687+08:00 0HLVDE8T4M5R2:00000002 [INF] Executed action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.9281ms. (50a9e262)
2020-05-01T12:40:05.4247687+08:00 0HLVDE8T4M5R2:00000002 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:40:05.4247687+08:00 0HLVDE8T4M5R2:00000002 [INF] Executed action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" in 7.1308ms (afa2e885)
2020-05-01T12:40:05.4247687+08:00 0HLVDE8T4M5R2:00000002 [INF] Request finished in 7.8632ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:41:18.1116815+08:00 0HLVDE8T4M5R3:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T12:41:18.1116815+08:00 0HLVDE8T4M5R3:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:41:18.1116815+08:00 0HLVDE8T4M5R3:00000001 [INF] Request finished in 0.3155ms 204  (791a596a)
2020-05-01T12:41:18.1179192+08:00 0HLVDE8T4M5R3:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T12:41:18.1186832+08:00 0HLVDE8T4M5R3:00000002 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:41:18.1186832+08:00 0HLVDE8T4M5R3:00000002 [INF] Route matched with "{action = \"GetPollsByCurrentUser\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" (a44c0341)
2020-05-01T12:41:18.1196847+08:00 0HLVDE8T4M5R3:00000002 [INF] Successfully validated the token. (60169667)
2020-05-01T12:41:18.1196847+08:00 0HLVDE8T4M5R3:00000002 [INF] Authorization was successful. (0d575a54)
2020-05-01T12:41:18.1207215+08:00 0HLVDE8T4M5R3:00000002 [INF] Executing action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" - Validation state: Valid (dad538d7)
2020-05-01T12:41:18.1207215+08:00 0HLVDE8T4M5R3:00000002 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:41:18.1226805+08:00 0HLVDE8T4M5R3:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2020-05-01T12:41:18.1226805+08:00 0HLVDE8T4M5R3:00000002 [INF] Executed action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.4059ms. (50a9e262)
2020-05-01T12:41:18.1226805+08:00 0HLVDE8T4M5R3:00000002 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:41:18.1226805+08:00 0HLVDE8T4M5R3:00000002 [INF] Executed action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" in 3.9967ms (afa2e885)
2020-05-01T12:41:18.1226805+08:00 0HLVDE8T4M5R3:00000002 [INF] Request finished in 5.0908ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:42:00.8836808+08:00 0HLVDE8T4M5R3:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T12:42:00.8866810+08:00 0HLVDE8T4M5R3:00000003 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:42:00.8866810+08:00 0HLVDE8T4M5R3:00000003 [INF] Request finished in 3.2557ms 204  (791a596a)
2020-05-01T12:42:00.8937148+08:00 0HLVDE8T4M5R3:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T12:42:00.8946806+08:00 0HLVDE8T4M5R3:00000004 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:42:00.8946806+08:00 0HLVDE8T4M5R3:00000004 [INF] Route matched with "{action = \"GetPollsByCurrentUser\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" (a44c0341)
2020-05-01T12:42:00.8956820+08:00 0HLVDE8T4M5R3:00000004 [INF] Successfully validated the token. (60169667)
2020-05-01T12:42:00.8956820+08:00 0HLVDE8T4M5R3:00000004 [INF] Authorization was successful. (0d575a54)
2020-05-01T12:42:00.8956820+08:00 0HLVDE8T4M5R3:00000004 [INF] Executing action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" - Validation state: Valid (dad538d7)
2020-05-01T12:42:00.8966815+08:00 0HLVDE8T4M5R3:00000004 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:42:00.8976833+08:00 0HLVDE8T4M5R3:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2020-05-01T12:42:00.8976833+08:00 0HLVDE8T4M5R3:00000004 [INF] Executed action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.9394ms. (50a9e262)
2020-05-01T12:42:00.8976833+08:00 0HLVDE8T4M5R3:00000004 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:42:00.8986815+08:00 0HLVDE8T4M5R3:00000004 [INF] Executed action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" in 3.3191ms (afa2e885)
2020-05-01T12:42:00.8986815+08:00 0HLVDE8T4M5R3:00000004 [INF] Request finished in 4.2176ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:42:54.5106804+08:00 0HLVDE8T4M5R3:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T12:42:54.5106804+08:00 0HLVDE8T4M5R3:00000005 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:42:54.5106804+08:00 0HLVDE8T4M5R3:00000005 [INF] Request finished in 0.374ms 204  (791a596a)
2020-05-01T12:42:54.5466804+08:00 0HLVDE8T4M5R3:00000006 [INF] Request starting HTTP/1.1 PUT http://localhost:61598/api/v1/poll application/json 251 (ca22a1cb)
2020-05-01T12:42:54.5466804+08:00 0HLVDE8T4M5R3:00000006 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:42:54.5519566+08:00 0HLVDE8T4M5R3:00000006 [INF] Route matched with "{action = \"AddPoll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.AddPoll (vote)" (a44c0341)
2020-05-01T12:42:54.5526852+08:00 0HLVDE8T4M5R3:00000006 [INF] Successfully validated the token. (60169667)
2020-05-01T12:42:54.5526852+08:00 0HLVDE8T4M5R3:00000006 [INF] Authorization was successful. (0d575a54)
2020-05-01T12:42:54.6657426+08:00 0HLVDE8T4M5R3:00000006 [INF] Executing action method "vote.Controllers.v1.PollController.AddPoll (vote)" with arguments (["vote.Models.Questionnaire"]) - Validation state: Valid (4e3479ed)
2020-05-01T12:42:54.6697356+08:00 0HLVDE8T4M5R3:00000006 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:42:54.7233225+08:00 0HLVDE8T4M5R3:00000006 [INF] Executed DbCommand ("42"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (Size = 1) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PollProp] ([ExpiresAt], [IsPublic])
VALUES (@p0, @p1);
SELECT [Id]
FROM [PollProp]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2020-05-01T12:42:54.7887208+08:00 0HLVDE8T4M5R3:00000006 [INF] Executed DbCommand ("57"ms) [Parameters=["@p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 100), @p5='?' (DbType = Int64), @p6='?' (Size = 20) (DbType = AnsiString), @p7='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Poll] ([Content], [CreatedAt], [Description], [PollPropId], [Title], [UserId])
VALUES (@p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Poll]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2020-05-01T12:42:54.7967673+08:00 0HLVDE8T4M5R3:00000006 [INF] Executed action method "vote.Controllers.v1.PollController.AddPoll (vote)", returned result "Microsoft.AspNetCore.Mvc.CreatedResult" in 130.9804ms. (50a9e262)
2020-05-01T12:42:54.7976793+08:00 0HLVDE8T4M5R3:00000006 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:42:54.7995363+08:00 0HLVDE8T4M5R3:00000006 [INF] Executed action "vote.Controllers.v1.PollController.AddPoll (vote)" in 247.3491ms (afa2e885)
2020-05-01T12:42:54.7996805+08:00 0HLVDE8T4M5R3:00000006 [INF] Request finished in 252.9186ms 201 application/json; charset=utf-8 (791a596a)
2020-05-01T12:42:54.9299526+08:00 0HLVDE8T4M5R3:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T12:42:54.9307158+08:00 0HLVDE8T4M5R3:00000007 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:42:54.9307158+08:00 0HLVDE8T4M5R3:00000007 [INF] Request finished in 0.4255ms 204  (791a596a)
2020-05-01T12:42:54.9356814+08:00 0HLVDE8T4M5R3:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T12:42:54.9356814+08:00 0HLVDE8T4M5R3:00000008 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:42:54.9366823+08:00 0HLVDE8T4M5R3:00000008 [INF] Route matched with "{action = \"GetPollsByCurrentUser\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" (a44c0341)
2020-05-01T12:42:54.9371372+08:00 0HLVDE8T4M5R3:00000008 [INF] Successfully validated the token. (60169667)
2020-05-01T12:42:54.9371372+08:00 0HLVDE8T4M5R3:00000008 [INF] Authorization was successful. (0d575a54)
2020-05-01T12:42:54.9371372+08:00 0HLVDE8T4M5R3:00000008 [INF] Executing action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" - Validation state: Valid (dad538d7)
2020-05-01T12:42:54.9376830+08:00 0HLVDE8T4M5R3:00000008 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:42:54.9606809+08:00 0HLVDE8T4M5R3:00000008 [INF] Executed DbCommand ("23"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2020-05-01T12:42:54.9617315+08:00 0HLVDE8T4M5R3:00000008 [INF] Executed action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 24.1332ms. (50a9e262)
2020-05-01T12:42:54.9617315+08:00 0HLVDE8T4M5R3:00000008 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:42:54.9617315+08:00 0HLVDE8T4M5R3:00000008 [INF] Executed action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" in 25.3711ms (afa2e885)
2020-05-01T12:42:54.9617315+08:00 0HLVDE8T4M5R3:00000008 [INF] Request finished in 26.1979ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:48:36.3976812+08:00 0HLVDE8T4M5R4:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/p/6   (ca22a1cb)
2020-05-01T12:48:36.3976812+08:00 0HLVDE8T4M5R4:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:48:36.3976812+08:00 0HLVDE8T4M5R4:00000001 [INF] Request finished in 0.4479ms 204  (791a596a)
2020-05-01T12:48:36.4039568+08:00 0HLVDE8T4M5R4:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll/p/6   (ca22a1cb)
2020-05-01T12:48:36.4039568+08:00 0HLVDE8T4M5R4:00000002 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T12:48:36.4086954+08:00 0HLVDE8T4M5R4:00000002 [INF] Route matched with "{action = \"GetByPollId\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetByPollId (vote)" (a44c0341)
2020-05-01T12:48:36.4096820+08:00 0HLVDE8T4M5R4:00000002 [INF] Executing action method "vote.Controllers.v1.PollController.GetByPollId (vote)" with arguments (["6"]) - Validation state: Valid (4e3479ed)
2020-05-01T12:48:36.4128028+08:00 0HLVDE8T4M5R4:00000002 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T12:48:38.2434630+08:00 0HLVDE8T4M5R4:00000002 [INF] Executed DbCommand ("54"ms) [Parameters=["@__pollId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] = @__pollId_0" (0723d8ff)
2020-05-01T12:48:38.2446803+08:00 0HLVDE8T4M5R4:00000002 [INF] Executed action method "vote.Controllers.v1.PollController.GetByPollId (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1835.1986ms. (50a9e262)
2020-05-01T12:48:38.2446803+08:00 0HLVDE8T4M5R4:00000002 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T12:48:38.2446803+08:00 0HLVDE8T4M5R4:00000002 [INF] Executed action "vote.Controllers.v1.PollController.GetByPollId (vote)" in 1835.9861ms (afa2e885)
2020-05-01T12:48:38.2446803+08:00 0HLVDE8T4M5R4:00000002 [INF] Request finished in 1841.5826ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T12:51:58.1306897+08:00  [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"PersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=vote " (9958f5bb)
2020-05-01T12:51:58.1506331+08:00  [INF] Executed DbCommand ("20"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Expiration] < GETUTCDATE()
ORDER BY [x].[Key]" (0723d8ff)
2020-05-01T12:51:58.1506331+08:00  [INF] Removing 0 grants (62cd9308)
2020-05-01T12:51:58.1616395+08:00  [INF] Executed DbCommand ("11"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[UserCode], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[DeviceCode], [x].[Expiration], [x].[SubjectId]
FROM [DeviceCodes] AS [x]
WHERE [x].[Expiration] < GETUTCDATE()" (0723d8ff)
2020-05-01T12:51:58.1616395+08:00  [INF] Removing 0 device flow codes (171ba47d)
2020-05-01T13:06:38.5858822+08:00 0HLVDE8T4M5R5:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T13:06:38.5858822+08:00 0HLVDE8T4M5R5:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:06:38.5858822+08:00 0HLVDE8T4M5R5:00000001 [INF] Request finished in 0.3908ms 204  (791a596a)
2020-05-01T13:06:38.5937518+08:00 0HLVDE8T4M5R5:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T13:06:38.5937518+08:00 0HLVDE8T4M5R5:00000002 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:06:38.5947441+08:00 0HLVDE8T4M5R5:00000002 [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T13:06:38.5947441+08:00 0HLVDE8T4M5R5:00000002 [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T13:06:38.5947441+08:00 0HLVDE8T4M5R5:00000002 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:06:39.2837444+08:00 0HLVDE8T4M5R5:00000002 [INF] Executed DbCommand ("56"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T13:06:39.2837444+08:00 0HLVDE8T4M5R5:00000002 [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 688.9825ms. (50a9e262)
2020-05-01T13:06:39.2837444+08:00 0HLVDE8T4M5R5:00000002 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:06:39.2847435+08:00 0HLVDE8T4M5R5:00000002 [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 689.8752ms (afa2e885)
2020-05-01T13:06:39.2847435+08:00 0HLVDE8T4M5R5:00000002 [INF] Request finished in 691.3959ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:07:44.7222653+08:00 0HLVDE8T4M5R6:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/p/6   (ca22a1cb)
2020-05-01T13:07:44.7222653+08:00 0HLVDE8T4M5R6:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:07:44.7222653+08:00 0HLVDE8T4M5R6:00000001 [INF] Request finished in 0.3973ms 204  (791a596a)
2020-05-01T13:07:44.7287069+08:00 0HLVDE8T4M5R6:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll/p/6   (ca22a1cb)
2020-05-01T13:07:44.7287069+08:00 0HLVDE8T4M5R6:00000002 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:07:44.7292656+08:00 0HLVDE8T4M5R6:00000002 [INF] Route matched with "{action = \"GetByPollId\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetByPollId (vote)" (a44c0341)
2020-05-01T13:07:44.7292656+08:00 0HLVDE8T4M5R6:00000002 [INF] Executing action method "vote.Controllers.v1.PollController.GetByPollId (vote)" with arguments (["6"]) - Validation state: Valid (4e3479ed)
2020-05-01T13:07:44.7301095+08:00 0HLVDE8T4M5R6:00000002 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:07:44.7332646+08:00 0HLVDE8T4M5R6:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__pollId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] = @__pollId_0" (0723d8ff)
2020-05-01T13:07:44.7343194+08:00 0HLVDE8T4M5R6:00000002 [INF] Executed action method "vote.Controllers.v1.PollController.GetByPollId (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.6032ms. (50a9e262)
2020-05-01T13:07:44.7343194+08:00 0HLVDE8T4M5R6:00000002 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:07:44.7343194+08:00 0HLVDE8T4M5R6:00000002 [INF] Executed action "vote.Controllers.v1.PollController.GetByPollId (vote)" in 5.224ms (afa2e885)
2020-05-01T13:07:44.7343194+08:00 0HLVDE8T4M5R6:00000002 [INF] Request finished in 6.0408ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:08:03.4998441+08:00 0HLVDE8T4M5R6:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/answer/6   (ca22a1cb)
2020-05-01T13:08:03.4998441+08:00 0HLVDE8T4M5R6:00000003 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:03.4998441+08:00 0HLVDE8T4M5R6:00000003 [INF] Request finished in 0.2332ms 204  (791a596a)
2020-05-01T13:08:03.5052629+08:00 0HLVDE8T4M5R6:00000004 [INF] Request starting HTTP/1.1 PUT http://localhost:61598/api/v1/poll/answer/6 application/json 22 (ca22a1cb)
2020-05-01T13:08:03.5052629+08:00 0HLVDE8T4M5R6:00000004 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:03.5101597+08:00 0HLVDE8T4M5R6:00000004 [INF] Route matched with "{action = \"AnswerPoll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.AnswerPoll (vote)" (a44c0341)
2020-05-01T13:08:03.5102630+08:00 0HLVDE8T4M5R6:00000004 [INF] Successfully validated the token. (60169667)
2020-05-01T13:08:03.5102630+08:00 0HLVDE8T4M5R6:00000004 [INF] Authorization was successful. (0d575a54)
2020-05-01T13:08:03.5152678+08:00 0HLVDE8T4M5R6:00000004 [INF] Executing action method "vote.Controllers.v1.PollController.AnswerPoll (vote)" with arguments (["6", "{
  \"_aa9c808\": [
    \"0\",
    \"2\"
  ]
}"]) - Validation state: Valid (4e3479ed)
2020-05-01T13:08:03.5182690+08:00 0HLVDE8T4M5R6:00000004 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:08:03.5190212+08:00 0HLVDE8T4M5R6:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__pollId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] = @__pollId_0" (0723d8ff)
2020-05-01T13:08:03.5911017+08:00 0HLVDE8T4M5R6:00000004 [INF] Executed DbCommand ("59"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PollAnswer] ([Answer], [CreatedAt], [PollId], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [PollAnswer]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2020-05-01T13:08:03.5975156+08:00 0HLVDE8T4M5R6:00000004 [INF] Executed action method "vote.Controllers.v1.PollController.AnswerPoll (vote)", returned result "Microsoft.AspNetCore.Mvc.CreatedResult" in 82.1922ms. (50a9e262)
2020-05-01T13:08:03.5975156+08:00 0HLVDE8T4M5R6:00000004 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:08:03.5975156+08:00 0HLVDE8T4M5R6:00000004 [INF] Executed action "vote.Controllers.v1.PollController.AnswerPoll (vote)" in 87.6119ms (afa2e885)
2020-05-01T13:08:03.5975156+08:00 0HLVDE8T4M5R6:00000004 [INF] Request finished in 92.8052ms 201 application/json; charset=utf-8 (791a596a)
2020-05-01T13:08:03.7142634+08:00 0HLVDE8T4M5R6:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T13:08:03.7142634+08:00 0HLVDE8T4M5R6:00000005 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:03.7142634+08:00 0HLVDE8T4M5R6:00000005 [INF] Request finished in 0.4194ms 204  (791a596a)
2020-05-01T13:08:03.7212644+08:00 0HLVDE8T4M5R6:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T13:08:03.7212644+08:00 0HLVDE8T4M5R6:00000006 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:03.7212644+08:00 0HLVDE8T4M5R6:00000006 [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T13:08:03.7212644+08:00 0HLVDE8T4M5R6:00000006 [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T13:08:03.7222642+08:00 0HLVDE8T4M5R6:00000006 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:08:03.7232654+08:00 0HLVDE8T4M5R6:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T13:08:03.7232654+08:00 0HLVDE8T4M5R6:00000006 [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.7291ms. (50a9e262)
2020-05-01T13:08:03.7232654+08:00 0HLVDE8T4M5R6:00000006 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:08:03.7242646+08:00 0HLVDE8T4M5R6:00000006 [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 2.2792ms (afa2e885)
2020-05-01T13:08:03.7242646+08:00 0HLVDE8T4M5R6:00000006 [INF] Request finished in 3.4286ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:08:19.5572673+08:00 0HLVDE8T4M5R6:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/p/6   (ca22a1cb)
2020-05-01T13:08:19.5582680+08:00 0HLVDE8T4M5R6:00000007 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:19.5582680+08:00 0HLVDE8T4M5R6:00000007 [INF] Request finished in 0.283ms 204  (791a596a)
2020-05-01T13:08:19.5653086+08:00 0HLVDE8T4M5R6:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll/p/6   (ca22a1cb)
2020-05-01T13:08:19.5653086+08:00 0HLVDE8T4M5R6:00000008 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:19.5653086+08:00 0HLVDE8T4M5R6:00000008 [INF] Route matched with "{action = \"GetByPollId\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetByPollId (vote)" (a44c0341)
2020-05-01T13:08:19.5662649+08:00 0HLVDE8T4M5R6:00000008 [INF] Executing action method "vote.Controllers.v1.PollController.GetByPollId (vote)" with arguments (["6"]) - Validation state: Valid (4e3479ed)
2020-05-01T13:08:19.5663319+08:00 0HLVDE8T4M5R6:00000008 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:08:19.5672661+08:00 0HLVDE8T4M5R6:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__pollId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] = @__pollId_0" (0723d8ff)
2020-05-01T13:08:19.5682670+08:00 0HLVDE8T4M5R6:00000008 [INF] Executed action method "vote.Controllers.v1.PollController.GetByPollId (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.1423ms. (50a9e262)
2020-05-01T13:08:19.5682670+08:00 0HLVDE8T4M5R6:00000008 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:08:19.5682670+08:00 0HLVDE8T4M5R6:00000008 [INF] Executed action "vote.Controllers.v1.PollController.GetByPollId (vote)" in 2.847ms (afa2e885)
2020-05-01T13:08:19.5682670+08:00 0HLVDE8T4M5R6:00000008 [INF] Request finished in 3.6136ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:08:21.7473508+08:00 0HLVDE8T4M5R6:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T13:08:21.7473508+08:00 0HLVDE8T4M5R6:00000009 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:21.7473508+08:00 0HLVDE8T4M5R6:00000009 [INF] Request finished in 0.275ms 204  (791a596a)
2020-05-01T13:08:21.7522741+08:00 0HLVDE8T4M5R6:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T13:08:21.7522741+08:00 0HLVDE8T4M5R6:0000000A [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:21.7522741+08:00 0HLVDE8T4M5R6:0000000A [INF] Route matched with "{action = \"GetPollsByCurrentUser\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" (a44c0341)
2020-05-01T13:08:21.7532686+08:00 0HLVDE8T4M5R6:0000000A [INF] Successfully validated the token. (60169667)
2020-05-01T13:08:21.7532686+08:00 0HLVDE8T4M5R6:0000000A [INF] Authorization was successful. (0d575a54)
2020-05-01T13:08:21.7532686+08:00 0HLVDE8T4M5R6:0000000A [INF] Executing action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" - Validation state: Valid (dad538d7)
2020-05-01T13:08:21.7542674+08:00 0HLVDE8T4M5R6:0000000A [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:08:21.7572657+08:00 0HLVDE8T4M5R6:0000000A [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2020-05-01T13:08:21.7582674+08:00 0HLVDE8T4M5R6:0000000A [INF] Executed action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.4859ms. (50a9e262)
2020-05-01T13:08:21.7582674+08:00 0HLVDE8T4M5R6:0000000A [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:08:21.7582674+08:00 0HLVDE8T4M5R6:0000000A [INF] Executed action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" in 5.5277ms (afa2e885)
2020-05-01T13:08:21.7582674+08:00 0HLVDE8T4M5R6:0000000A [INF] Request finished in 6.1558ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:08:22.9612644+08:00 0HLVDE8T4M5R6:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll/p/6   (ca22a1cb)
2020-05-01T13:08:22.9612644+08:00 0HLVDE8T4M5R6:0000000B [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:22.9612644+08:00 0HLVDE8T4M5R6:0000000B [INF] Route matched with "{action = \"GetByPollId\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetByPollId (vote)" (a44c0341)
2020-05-01T13:08:22.9622654+08:00 0HLVDE8T4M5R6:0000000B [INF] Executing action method "vote.Controllers.v1.PollController.GetByPollId (vote)" with arguments (["6"]) - Validation state: Valid (4e3479ed)
2020-05-01T13:08:22.9622654+08:00 0HLVDE8T4M5R6:0000000B [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:08:22.9642638+08:00 0HLVDE8T4M5R6:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__pollId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] = @__pollId_0" (0723d8ff)
2020-05-01T13:08:22.9653157+08:00 0HLVDE8T4M5R6:0000000B [INF] Executed action method "vote.Controllers.v1.PollController.GetByPollId (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.0045ms. (50a9e262)
2020-05-01T13:08:22.9653157+08:00 0HLVDE8T4M5R6:0000000B [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:08:22.9653157+08:00 0HLVDE8T4M5R6:0000000B [INF] Executed action "vote.Controllers.v1.PollController.GetByPollId (vote)" in 3.4545ms (afa2e885)
2020-05-01T13:08:22.9653157+08:00 0HLVDE8T4M5R6:0000000B [INF] Request finished in 4.231ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:08:24.1899976+08:00 0HLVDE8T4M5R6:0000000C [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T13:08:24.1902645+08:00 0HLVDE8T4M5R6:0000000C [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:24.1902645+08:00 0HLVDE8T4M5R6:0000000C [INF] Request finished in 0.274ms 204  (791a596a)
2020-05-01T13:08:24.1952657+08:00 0HLVDE8T4M5R6:0000000D [INF] Request starting HTTP/1.1 POST http://localhost:61598/api/v1/poll application/json 294 (ca22a1cb)
2020-05-01T13:08:24.1952657+08:00 0HLVDE8T4M5R6:0000000D [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:24.2002671+08:00 0HLVDE8T4M5R6:0000000D [INF] Route matched with "{action = \"UpdatePoll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.UpdatePoll (vote)" (a44c0341)
2020-05-01T13:08:24.2002671+08:00 0HLVDE8T4M5R6:0000000D [INF] Successfully validated the token. (60169667)
2020-05-01T13:08:24.2012638+08:00 0HLVDE8T4M5R6:0000000D [INF] Authorization was successful. (0d575a54)
2020-05-01T13:08:24.2062686+08:00 0HLVDE8T4M5R6:0000000D [INF] Executing action method "vote.Controllers.v1.PollController.UpdatePoll (vote)" with arguments (["vote.Models.QuestionnaireUpdate"]) - Validation state: Valid (4e3479ed)
2020-05-01T13:08:24.2093307+08:00 0HLVDE8T4M5R6:0000000D [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:08:24.2274086+08:00 0HLVDE8T4M5R6:0000000D [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int64), @__questionnaire_Id_1='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE ([p].[UserId] = @__userId_0) AND ([p].[Id] = @__questionnaire_Id_1)" (0723d8ff)
2020-05-01T13:08:24.2353096+08:00 0HLVDE8T4M5R6:0000000D [INF] Executed DbCommand ("3"ms) [Parameters=["@p6='?' (DbType = Int64), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = Int64), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Poll] SET [Content] = @p0, [CreatedAt] = @p1, [Description] = @p2, [PollPropId] = @p3, [Title] = @p4, [UserId] = @p5
WHERE [Id] = @p6;
SELECT @@ROWCOUNT;" (0723d8ff)
2020-05-01T13:08:24.2372663+08:00 0HLVDE8T4M5R6:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@p2='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (Size = 1) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [PollProp] SET [ExpiresAt] = @p0, [IsPublic] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2020-05-01T13:08:24.2762650+08:00 0HLVDE8T4M5R6:0000000D [INF] Executed DbCommand ("29"ms) [Parameters=["@__pollId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [predicate].[Id], [predicate].[Answer], [predicate].[CreatedAt], [predicate].[PollId], [predicate].[UserId]
FROM [PollAnswer] AS [predicate]
WHERE [predicate].[PollId] = @__pollId_0" (0723d8ff)
2020-05-01T13:08:24.2863085+08:00 0HLVDE8T4M5R6:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [PollAnswer]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2020-05-01T13:08:24.2882840+08:00 0HLVDE8T4M5R6:0000000D [INF] Executed action method "vote.Controllers.v1.PollController.UpdatePoll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 82.7556ms. (50a9e262)
2020-05-01T13:08:24.2892660+08:00 0HLVDE8T4M5R6:0000000D [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:08:24.2892660+08:00 0HLVDE8T4M5R6:0000000D [INF] Executed action "vote.Controllers.v1.PollController.UpdatePoll (vote)" in 89.0029ms (afa2e885)
2020-05-01T13:08:24.2892660+08:00 0HLVDE8T4M5R6:0000000D [INF] Request finished in 93.938ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:08:24.4312653+08:00 0HLVDE8T4M5R6:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T13:08:24.4317512+08:00 0HLVDE8T4M5R6:0000000E [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:24.4317512+08:00 0HLVDE8T4M5R6:0000000E [INF] Route matched with "{action = \"GetPollsByCurrentUser\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" (a44c0341)
2020-05-01T13:08:24.4322634+08:00 0HLVDE8T4M5R6:0000000E [INF] Successfully validated the token. (60169667)
2020-05-01T13:08:24.4322634+08:00 0HLVDE8T4M5R6:0000000E [INF] Authorization was successful. (0d575a54)
2020-05-01T13:08:24.4329510+08:00 0HLVDE8T4M5R6:0000000E [INF] Executing action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" - Validation state: Valid (dad538d7)
2020-05-01T13:08:24.4332642+08:00 0HLVDE8T4M5R6:0000000E [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:08:24.4344801+08:00 0HLVDE8T4M5R6:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2020-05-01T13:08:24.4344801+08:00 0HLVDE8T4M5R6:0000000E [INF] Executed action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.7368ms. (50a9e262)
2020-05-01T13:08:24.4344801+08:00 0HLVDE8T4M5R6:0000000E [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:08:24.4344801+08:00 0HLVDE8T4M5R6:0000000E [INF] Executed action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" in 2.9026ms (afa2e885)
2020-05-01T13:08:24.4352644+08:00 0HLVDE8T4M5R6:0000000E [INF] Request finished in 3.6792ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:08:25.6055052+08:00 0HLVDE8T4M5R6:0000000F [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T13:08:25.6055052+08:00 0HLVDE8T4M5R6:0000000F [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:25.6062649+08:00 0HLVDE8T4M5R6:0000000F [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T13:08:25.6062649+08:00 0HLVDE8T4M5R6:0000000F [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T13:08:25.6062649+08:00 0HLVDE8T4M5R6:0000000F [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:08:25.6082657+08:00 0HLVDE8T4M5R6:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T13:08:25.6082657+08:00 0HLVDE8T4M5R6:0000000F [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.9122ms. (50a9e262)
2020-05-01T13:08:25.6082657+08:00 0HLVDE8T4M5R6:0000000F [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:08:25.6082657+08:00 0HLVDE8T4M5R6:0000000F [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 2.4328ms (afa2e885)
2020-05-01T13:08:25.6082657+08:00 0HLVDE8T4M5R6:0000000F [INF] Request finished in 3.4838ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:08:27.0077697+08:00 0HLVDE8T4M5R6:00000010 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T13:08:27.0077697+08:00 0HLVDE8T4M5R6:00000010 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:27.0082648+08:00 0HLVDE8T4M5R6:00000010 [INF] Request finished in 0.275ms 204  (791a596a)
2020-05-01T13:08:27.0132670+08:00 0HLVDE8T4M5R6:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T13:08:27.0133806+08:00 0HLVDE8T4M5R6:00000011 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:27.0137204+08:00 0HLVDE8T4M5R6:00000011 [INF] Route matched with "{action = \"GetPollsByCurrentUser\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" (a44c0341)
2020-05-01T13:08:27.0143037+08:00 0HLVDE8T4M5R6:00000011 [INF] Successfully validated the token. (60169667)
2020-05-01T13:08:27.0144361+08:00 0HLVDE8T4M5R6:00000011 [INF] Authorization was successful. (0d575a54)
2020-05-01T13:08:27.0144361+08:00 0HLVDE8T4M5R6:00000011 [INF] Executing action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" - Validation state: Valid (dad538d7)
2020-05-01T13:08:27.0152718+08:00 0HLVDE8T4M5R6:00000011 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:08:27.0163245+08:00 0HLVDE8T4M5R6:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2020-05-01T13:08:27.0163245+08:00 0HLVDE8T4M5R6:00000011 [INF] Executed action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.7437ms. (50a9e262)
2020-05-01T13:08:27.0163245+08:00 0HLVDE8T4M5R6:00000011 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:08:27.0163245+08:00 0HLVDE8T4M5R6:00000011 [INF] Executed action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" in 3.1973ms (afa2e885)
2020-05-01T13:08:27.0172655+08:00 0HLVDE8T4M5R6:00000011 [INF] Request finished in 3.9773ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:08:27.8822643+08:00 0HLVDE8T4M5R6:00000012 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/answer/6   (ca22a1cb)
2020-05-01T13:08:27.8822643+08:00 0HLVDE8T4M5R6:00000012 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:27.8822643+08:00 0HLVDE8T4M5R6:00000012 [INF] Request finished in 0.1813ms 204  (791a596a)
2020-05-01T13:08:27.8872641+08:00 0HLVDE8T4M5R6:00000013 [INF] Request starting HTTP/1.1 POST http://localhost:61598/api/v1/poll/answer/6  0 (ca22a1cb)
2020-05-01T13:08:27.8872641+08:00 0HLVDE8T4M5R6:00000013 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:27.8925507+08:00 0HLVDE8T4M5R6:00000013 [INF] Route matched with "{action = \"GetPollAnswersById\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetPollAnswersById (vote)" (a44c0341)
2020-05-01T13:08:27.8932658+08:00 0HLVDE8T4M5R6:00000013 [INF] Successfully validated the token. (60169667)
2020-05-01T13:08:27.8932658+08:00 0HLVDE8T4M5R6:00000013 [INF] Authorization was successful. (0d575a54)
2020-05-01T13:08:27.8932658+08:00 0HLVDE8T4M5R6:00000013 [INF] Executing action method "vote.Controllers.v1.PollController.GetPollAnswersById (vote)" with arguments (["6"]) - Validation state: Valid (4e3479ed)
2020-05-01T13:08:27.8972653+08:00 0HLVDE8T4M5R6:00000013 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:08:27.9384780+08:00 0HLVDE8T4M5R6:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__pollId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [predicate].[Id], [predicate].[Content], [predicate].[CreatedAt], [predicate].[Description], [predicate].[PollPropId], [predicate].[Title], [predicate].[UserId], [predicate.PollProp].[Id], [predicate.PollProp].[ExpiresAt], [predicate.PollProp].[IsPublic]
FROM [Poll] AS [predicate]
LEFT JOIN [PollProp] AS [predicate.PollProp] ON [predicate].[PollPropId] = [predicate.PollProp].[Id]
WHERE [predicate].[Id] = @__pollId_0
ORDER BY [predicate].[Id]" (0723d8ff)
2020-05-01T13:08:27.9812638+08:00 0HLVDE8T4M5R6:00000013 [INF] Executed DbCommand ("24"ms) [Parameters=["@__pollId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [predicate.PollAnswers].[Id], [predicate.PollAnswers].[Answer], [predicate.PollAnswers].[CreatedAt], [predicate.PollAnswers].[PollId], [predicate.PollAnswers].[UserId]
FROM [PollAnswer] AS [predicate.PollAnswers]
INNER JOIN (
    SELECT DISTINCT [t].*
    FROM (
        SELECT TOP(1) [predicate0].[Id]
        FROM [Poll] AS [predicate0]
        LEFT JOIN [PollProp] AS [predicate.PollProp0] ON [predicate0].[PollPropId] = [predicate.PollProp0].[Id]
        WHERE [predicate0].[Id] = @__pollId_0
        ORDER BY [predicate0].[Id]
    ) AS [t]
) AS [t0] ON [predicate.PollAnswers].[PollId] = [t0].[Id]
ORDER BY [t0].[Id]" (0723d8ff)
2020-05-01T13:08:27.9832623+08:00 0HLVDE8T4M5R6:00000013 [INF] Executed action method "vote.Controllers.v1.PollController.GetPollAnswersById (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 90.4283ms. (50a9e262)
2020-05-01T13:08:27.9832623+08:00 0HLVDE8T4M5R6:00000013 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:08:27.9883163+08:00 0HLVDE8T4M5R6:00000013 [INF] Executed action "vote.Controllers.v1.PollController.GetPollAnswersById (vote)" in 96.0044ms (afa2e885)
2020-05-01T13:08:27.9883163+08:00 0HLVDE8T4M5R6:00000013 [INF] Request finished in 101.3364ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:08:30.3434109+08:00 0HLVDE8T4M5R6:00000014 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T13:08:30.3434109+08:00 0HLVDE8T4M5R6:00000014 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:30.3434109+08:00 0HLVDE8T4M5R6:00000014 [INF] Request finished in 0.4524ms 204  (791a596a)
2020-05-01T13:08:30.3493672+08:00 0HLVDE8T4M5R6:00000015 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T13:08:30.3495929+08:00 0HLVDE8T4M5R6:00000015 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:30.3501635+08:00 0HLVDE8T4M5R6:00000015 [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T13:08:30.3502661+08:00 0HLVDE8T4M5R6:00000015 [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T13:08:30.3502661+08:00 0HLVDE8T4M5R6:00000015 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:08:30.3516707+08:00 0HLVDE8T4M5R6:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T13:08:30.3522657+08:00 0HLVDE8T4M5R6:00000015 [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.8469ms. (50a9e262)
2020-05-01T13:08:30.3522657+08:00 0HLVDE8T4M5R6:00000015 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:08:30.3522657+08:00 0HLVDE8T4M5R6:00000015 [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 2.4519ms (afa2e885)
2020-05-01T13:08:30.3522657+08:00 0HLVDE8T4M5R6:00000015 [INF] Request finished in 3.3354ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:08:32.8123446+08:00 0HLVDE8T4M5R6:00000016 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/p/6   (ca22a1cb)
2020-05-01T13:08:32.8123446+08:00 0HLVDE8T4M5R6:00000016 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:32.8123446+08:00 0HLVDE8T4M5R6:00000016 [INF] Request finished in 0.2929ms 204  (791a596a)
2020-05-01T13:08:32.8182629+08:00 0HLVDE8T4M5R6:00000017 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll/p/6   (ca22a1cb)
2020-05-01T13:08:32.8182629+08:00 0HLVDE8T4M5R6:00000017 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:32.8183983+08:00 0HLVDE8T4M5R6:00000017 [INF] Route matched with "{action = \"GetByPollId\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetByPollId (vote)" (a44c0341)
2020-05-01T13:08:32.8183983+08:00 0HLVDE8T4M5R6:00000017 [INF] Executing action method "vote.Controllers.v1.PollController.GetByPollId (vote)" with arguments (["6"]) - Validation state: Valid (4e3479ed)
2020-05-01T13:08:32.8192660+08:00 0HLVDE8T4M5R6:00000017 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:08:32.8202659+08:00 0HLVDE8T4M5R6:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__pollId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] = @__pollId_0" (0723d8ff)
2020-05-01T13:08:32.8202659+08:00 0HLVDE8T4M5R6:00000017 [INF] Executed action method "vote.Controllers.v1.PollController.GetByPollId (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.6747ms. (50a9e262)
2020-05-01T13:08:32.8202659+08:00 0HLVDE8T4M5R6:00000017 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:08:32.8202659+08:00 0HLVDE8T4M5R6:00000017 [INF] Executed action "vote.Controllers.v1.PollController.GetByPollId (vote)" in 2.2082ms (afa2e885)
2020-05-01T13:08:32.8202659+08:00 0HLVDE8T4M5R6:00000017 [INF] Request finished in 2.8072ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:08:40.9742647+08:00 0HLVDE8T4M5R6:00000018 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/answer/6   (ca22a1cb)
2020-05-01T13:08:40.9742647+08:00 0HLVDE8T4M5R6:00000018 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:40.9742647+08:00 0HLVDE8T4M5R6:00000018 [INF] Request finished in 0.2602ms 204  (791a596a)
2020-05-01T13:08:40.9797742+08:00 0HLVDE8T4M5R6:00000019 [INF] Request starting HTTP/1.1 PUT http://localhost:61598/api/v1/poll/answer/6 application/json 22 (ca22a1cb)
2020-05-01T13:08:40.9797742+08:00 0HLVDE8T4M5R6:00000019 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:40.9802666+08:00 0HLVDE8T4M5R6:00000019 [INF] Route matched with "{action = \"AnswerPoll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.AnswerPoll (vote)" (a44c0341)
2020-05-01T13:08:40.9802666+08:00 0HLVDE8T4M5R6:00000019 [INF] Successfully validated the token. (60169667)
2020-05-01T13:08:40.9802666+08:00 0HLVDE8T4M5R6:00000019 [INF] Authorization was successful. (0d575a54)
2020-05-01T13:08:40.9813017+08:00 0HLVDE8T4M5R6:00000019 [INF] Executing action method "vote.Controllers.v1.PollController.AnswerPoll (vote)" with arguments (["6", "{
  \"_aa9c808\": [
    \"0\",
    \"2\"
  ]
}"]) - Validation state: Valid (4e3479ed)
2020-05-01T13:08:40.9813017+08:00 0HLVDE8T4M5R6:00000019 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:08:40.9822647+08:00 0HLVDE8T4M5R6:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__pollId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] = @__pollId_0" (0723d8ff)
2020-05-01T13:08:40.9843857+08:00 0HLVDE8T4M5R6:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int64), @p3='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PollAnswer] ([Answer], [CreatedAt], [PollId], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [PollAnswer]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2020-05-01T13:08:40.9854728+08:00 0HLVDE8T4M5R6:00000019 [INF] Executed action method "vote.Controllers.v1.PollController.AnswerPoll (vote)", returned result "Microsoft.AspNetCore.Mvc.CreatedResult" in 4.3973ms. (50a9e262)
2020-05-01T13:08:40.9854728+08:00 0HLVDE8T4M5R6:00000019 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:08:40.9854728+08:00 0HLVDE8T4M5R6:00000019 [INF] Executed action "vote.Controllers.v1.PollController.AnswerPoll (vote)" in 5.8659ms (afa2e885)
2020-05-01T13:08:40.9862646+08:00 0HLVDE8T4M5R6:00000019 [INF] Request finished in 6.5328ms 201 application/json; charset=utf-8 (791a596a)
2020-05-01T13:08:41.1434092+08:00 0HLVDE8T4M5R6:0000001A [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T13:08:41.1434092+08:00 0HLVDE8T4M5R6:0000001A [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:41.1434092+08:00 0HLVDE8T4M5R6:0000001A [INF] Request finished in 0.2343ms 204  (791a596a)
2020-05-01T13:08:41.1483324+08:00 0HLVDE8T4M5R6:0000001B [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T13:08:41.1483324+08:00 0HLVDE8T4M5R6:0000001B [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:08:41.1483324+08:00 0HLVDE8T4M5R6:0000001B [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T13:08:41.1492642+08:00 0HLVDE8T4M5R6:0000001B [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T13:08:41.1492642+08:00 0HLVDE8T4M5R6:0000001B [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:08:41.1503672+08:00 0HLVDE8T4M5R6:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T13:08:41.1512642+08:00 0HLVDE8T4M5R6:0000001B [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.938ms. (50a9e262)
2020-05-01T13:08:41.1512642+08:00 0HLVDE8T4M5R6:0000001B [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:08:41.1512642+08:00 0HLVDE8T4M5R6:0000001B [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 2.5584ms (afa2e885)
2020-05-01T13:08:41.1512642+08:00 0HLVDE8T4M5R6:0000001B [INF] Request finished in 3.4507ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:11:04.2811584+08:00 0HLVDE8T4M5R7:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T13:11:04.2814491+08:00 0HLVDE8T4M5R7:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:11:04.2814491+08:00 0HLVDE8T4M5R7:00000001 [INF] Request finished in 0.3292ms 204  (791a596a)
2020-05-01T13:11:04.2875226+08:00 0HLVDE8T4M5R7:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T13:11:04.2875226+08:00 0HLVDE8T4M5R7:00000002 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:11:04.2887050+08:00 0HLVDE8T4M5R7:00000002 [INF] Route matched with "{action = \"GetPollsByCurrentUser\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" (a44c0341)
2020-05-01T13:11:04.2890723+08:00 0HLVDE8T4M5R7:00000002 [INF] Successfully validated the token. (60169667)
2020-05-01T13:11:04.2890723+08:00 0HLVDE8T4M5R7:00000002 [INF] Authorization was successful. (0d575a54)
2020-05-01T13:11:04.2900705+08:00 0HLVDE8T4M5R7:00000002 [INF] Executing action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" - Validation state: Valid (dad538d7)
2020-05-01T13:11:04.2900705+08:00 0HLVDE8T4M5R7:00000002 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:11:04.2920724+08:00 0HLVDE8T4M5R7:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2020-05-01T13:11:04.2930709+08:00 0HLVDE8T4M5R7:00000002 [INF] Executed action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.745ms. (50a9e262)
2020-05-01T13:11:04.2930709+08:00 0HLVDE8T4M5R7:00000002 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:11:04.2950709+08:00 0HLVDE8T4M5R7:00000002 [INF] Executed action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" in 4.4798ms (afa2e885)
2020-05-01T13:11:04.2960734+08:00 0HLVDE8T4M5R7:00000002 [INF] Request finished in 8.398ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:11:05.5420921+08:00 0HLVDE8T4M5R7:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/answer/6   (ca22a1cb)
2020-05-01T13:11:05.5430720+08:00 0HLVDE8T4M5R7:00000003 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:11:05.5430720+08:00 0HLVDE8T4M5R7:00000003 [INF] Request finished in 0.6768ms 204  (791a596a)
2020-05-01T13:11:05.5497607+08:00 0HLVDE8T4M5R7:00000004 [INF] Request starting HTTP/1.1 POST http://localhost:61598/api/v1/poll/answer/6  0 (ca22a1cb)
2020-05-01T13:11:05.5497607+08:00 0HLVDE8T4M5R7:00000004 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:11:05.5500695+08:00 0HLVDE8T4M5R7:00000004 [INF] Route matched with "{action = \"GetPollAnswersById\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetPollAnswersById (vote)" (a44c0341)
2020-05-01T13:11:05.5500695+08:00 0HLVDE8T4M5R7:00000004 [INF] Successfully validated the token. (60169667)
2020-05-01T13:11:05.5500695+08:00 0HLVDE8T4M5R7:00000004 [INF] Authorization was successful. (0d575a54)
2020-05-01T13:11:05.5511257+08:00 0HLVDE8T4M5R7:00000004 [INF] Executing action method "vote.Controllers.v1.PollController.GetPollAnswersById (vote)" with arguments (["6"]) - Validation state: Valid (4e3479ed)
2020-05-01T13:11:05.5514541+08:00 0HLVDE8T4M5R7:00000004 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:11:05.5521032+08:00 0HLVDE8T4M5R7:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__pollId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [predicate].[Id], [predicate].[Content], [predicate].[CreatedAt], [predicate].[Description], [predicate].[PollPropId], [predicate].[Title], [predicate].[UserId], [predicate.PollProp].[Id], [predicate.PollProp].[ExpiresAt], [predicate.PollProp].[IsPublic]
FROM [Poll] AS [predicate]
LEFT JOIN [PollProp] AS [predicate.PollProp] ON [predicate].[PollPropId] = [predicate.PollProp].[Id]
WHERE [predicate].[Id] = @__pollId_0
ORDER BY [predicate].[Id]" (0723d8ff)
2020-05-01T13:11:05.5570705+08:00 0HLVDE8T4M5R7:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__pollId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [predicate.PollAnswers].[Id], [predicate.PollAnswers].[Answer], [predicate.PollAnswers].[CreatedAt], [predicate.PollAnswers].[PollId], [predicate.PollAnswers].[UserId]
FROM [PollAnswer] AS [predicate.PollAnswers]
INNER JOIN (
    SELECT DISTINCT [t].*
    FROM (
        SELECT TOP(1) [predicate0].[Id]
        FROM [Poll] AS [predicate0]
        LEFT JOIN [PollProp] AS [predicate.PollProp0] ON [predicate0].[PollPropId] = [predicate.PollProp0].[Id]
        WHERE [predicate0].[Id] = @__pollId_0
        ORDER BY [predicate0].[Id]
    ) AS [t]
) AS [t0] ON [predicate.PollAnswers].[PollId] = [t0].[Id]
ORDER BY [t0].[Id]" (0723d8ff)
2020-05-01T13:11:05.5570705+08:00 0HLVDE8T4M5R7:00000004 [INF] Executed action method "vote.Controllers.v1.PollController.GetPollAnswersById (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.673ms. (50a9e262)
2020-05-01T13:11:05.5580743+08:00 0HLVDE8T4M5R7:00000004 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:11:05.5630684+08:00 0HLVDE8T4M5R7:00000004 [INF] Executed action "vote.Controllers.v1.PollController.GetPollAnswersById (vote)" in 13.0658ms (afa2e885)
2020-05-01T13:11:05.5630684+08:00 0HLVDE8T4M5R7:00000004 [INF] Request finished in 13.885ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:11:54.7870704+08:00 0HLVDE8T4M5R7:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T13:11:54.7871633+08:00 0HLVDE8T4M5R7:00000005 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:11:54.7871633+08:00 0HLVDE8T4M5R7:00000005 [INF] Request finished in 0.3897ms 204  (791a596a)
2020-05-01T13:11:54.7960709+08:00 0HLVDE8T4M5R7:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll/u   (ca22a1cb)
2020-05-01T13:11:54.7970786+08:00 0HLVDE8T4M5R7:00000006 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:11:54.7970786+08:00 0HLVDE8T4M5R7:00000006 [INF] Route matched with "{action = \"GetPollsByCurrentUser\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" (a44c0341)
2020-05-01T13:11:54.7981313+08:00 0HLVDE8T4M5R7:00000006 [INF] Successfully validated the token. (60169667)
2020-05-01T13:11:54.7981313+08:00 0HLVDE8T4M5R7:00000006 [INF] Authorization was successful. (0d575a54)
2020-05-01T13:11:54.7990713+08:00 0HLVDE8T4M5R7:00000006 [INF] Executing action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" - Validation state: Valid (dad538d7)
2020-05-01T13:11:54.7990713+08:00 0HLVDE8T4M5R7:00000006 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:11:54.8010712+08:00 0HLVDE8T4M5R7:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2020-05-01T13:11:54.8010712+08:00 0HLVDE8T4M5R7:00000006 [INF] Executed action method "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.1535ms. (50a9e262)
2020-05-01T13:11:54.8010712+08:00 0HLVDE8T4M5R7:00000006 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:11:54.8010712+08:00 0HLVDE8T4M5R7:00000006 [INF] Executed action "vote.Controllers.v1.PollController.GetPollsByCurrentUser (vote)" in 3.6427ms (afa2e885)
2020-05-01T13:11:54.8010712+08:00 0HLVDE8T4M5R7:00000006 [INF] Request finished in 5.0496ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:12:03.1948244+08:00 0HLVDE8T4M5R7:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll/6   (ca22a1cb)
2020-05-01T13:12:03.1950690+08:00 0HLVDE8T4M5R7:00000007 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:12:03.1950690+08:00 0HLVDE8T4M5R7:00000007 [INF] Request finished in 0.3124ms 204  (791a596a)
2020-05-01T13:12:03.2020714+08:00 0HLVDE8T4M5R7:00000008 [INF] Request starting HTTP/1.1 DELETE http://localhost:61598/api/v1/poll/6   (ca22a1cb)
2020-05-01T13:12:03.2020714+08:00 0HLVDE8T4M5R7:00000008 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:12:03.2020714+08:00 0HLVDE8T4M5R7:00000008 [INF] Route matched with "{action = \"DeletePollById\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.DeletePollById (vote)" (a44c0341)
2020-05-01T13:12:03.2030698+08:00 0HLVDE8T4M5R7:00000008 [INF] Successfully validated the token. (60169667)
2020-05-01T13:12:03.2030698+08:00 0HLVDE8T4M5R7:00000008 [INF] Authorization was successful. (0d575a54)
2020-05-01T13:12:03.2040692+08:00 0HLVDE8T4M5R7:00000008 [INF] Executing action method "vote.Controllers.v1.PollController.DeletePollById (vote)" with arguments (["6"]) - Validation state: Valid (4e3479ed)
2020-05-01T13:12:03.2040692+08:00 0HLVDE8T4M5R7:00000008 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:12:03.2080798+08:00 0HLVDE8T4M5R7:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int64), @__poll_Id_1='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId]
FROM [Poll] AS [p]
WHERE ([p].[UserId] = @__userId_0) AND ([p].[Id] = @__poll_Id_1)" (0723d8ff)
2020-05-01T13:12:03.2385394+08:00 0HLVDE8T4M5R7:00000008 [INF] Executed DbCommand ("29"ms) [Parameters=["@p0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Poll]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2020-05-01T13:12:03.2410901+08:00 0HLVDE8T4M5R7:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [PollProp]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2020-05-01T13:12:03.2420702+08:00 0HLVDE8T4M5R7:00000008 [INF] Executed action method "vote.Controllers.v1.PollController.DeletePollById (vote)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 37.8172ms. (50a9e262)
2020-05-01T13:12:03.2420702+08:00 0HLVDE8T4M5R7:00000008 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204 (e28ccfae)
2020-05-01T13:12:03.2420702+08:00 0HLVDE8T4M5R7:00000008 [INF] Executed action "vote.Controllers.v1.PollController.DeletePollById (vote)" in 39.5852ms (afa2e885)
2020-05-01T13:12:03.2420702+08:00 0HLVDE8T4M5R7:00000008 [INF] Request finished in 40.6575ms 204  (791a596a)
2020-05-01T13:12:52.9330714+08:00 0HLVDE8T4M5R7:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6ImI4M2EyOWYwM2Q3YWJjMzAyYTM3M2Q1OWI0ODNmMGFhIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1ODgzMDc5MzYsImV4cCI6MTU4ODMwODIzNiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo2MTU5OCIsImF1ZCI6ImpzIiwibm9uY2UiOiI1OTU2OTY3Njc0NmU0ZGEzODk2Yzg1MjU1MTZmMjAyZiIsImlhdCI6MTU4ODMwNzkzNiwiYXRfaGFzaCI6Inl0WDNZR1lKREV1ZmJkMnJPazBtYVEiLCJzaWQiOiJlMjNmMmM2ZmEwODI0NmJlYmY0MzZmNmJmZGRkZWVmNCIsInN1YiI6IjIiLCJhdXRoX3RpbWUiOjE1ODgzMDc5MzYsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.Q4Jl3pLQMfPIVUKIF0lBMsJQR82sOC-X3PcE35M_SriUtV-kFHoR93yJVtrjEiOBGhHtP5kiRTOmsgw0qLsX-mCKdKiB26CJuUzL9LbCqSJ8geEqfA4WiGc0vIx04ORPP9rzl-G55n55Ti68CSHN55zv9Hha4e38R6dU2KC130PPswV5CVGP8Ot-S_X1SsbS8sa0zYTGt-AOu_n6ap-1hjL6R5Zb4O6JKaS9ciY3wGoxWuGVjgmK0BxLGbb_XCx6V-N3SSlBE2v6crjJ5RWzYwGMggZDC0iKdxI49TLuivn0jzwcW4RkQGIHE16XuuAbvgwEFMFNpxyzQDEglmKhkQ&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A5000   (ca22a1cb)
2020-05-01T13:12:52.9340721+08:00 0HLVDE8T4M5R7:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2020-05-01T13:12:52.9350811+08:00 0HLVDE8T4M5R7:00000009 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"ConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=vote " (9958f5bb)
2020-05-01T13:12:52.9543947+08:00 0HLVDE8T4M5R8:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/user/logout   (ca22a1cb)
2020-05-01T13:12:52.9543947+08:00 0HLVDE8T4M5R8:00000001 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:12:52.9543947+08:00 0HLVDE8T4M5R8:00000001 [INF] Request finished in 0.2019ms 204  (791a596a)
2020-05-01T13:12:52.9600716+08:00 0HLVDE8T4M5R8:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:61598/api/v1/user/logout  0 (ca22a1cb)
2020-05-01T13:12:52.9600716+08:00 0HLVDE8T4M5R8:00000002 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:12:52.9610731+08:00 0HLVDE8T4M5R8:00000002 [INF] Route matched with "{action = \"Logout\", controller = \"User\", page = \"\"}". Executing action "vote.UserController.v1.UserController.Logout (vote)" (a44c0341)
2020-05-01T13:12:52.9610731+08:00 0HLVDE8T4M5R8:00000002 [INF] Successfully validated the token. (60169667)
2020-05-01T13:12:52.9620703+08:00 0HLVDE8T4M5R8:00000002 [INF] Authorization was successful. (0d575a54)
2020-05-01T13:12:52.9620703+08:00 0HLVDE8T4M5R8:00000002 [INF] Executing action method "vote.UserController.v1.UserController.Logout (vote)" - Validation state: Valid (dad538d7)
2020-05-01T13:12:52.9620703+08:00 0HLVDE8T4M5R8:00000002 [INF] AuthenticationScheme: "Cookies" signed out. (d3f50c8d)
2020-05-01T13:12:52.9620703+08:00 0HLVDE8T4M5R8:00000002 [INF] Executed action method "vote.UserController.v1.UserController.Logout (vote)", returned result "Microsoft.AspNetCore.Mvc.LocalRedirectResult" in 0.275ms. (50a9e262)
2020-05-01T13:12:52.9630708+08:00 0HLVDE8T4M5R8:00000002 [INF] Executing LocalRedirectResult, redirecting to "/". (cac120e6)
2020-05-01T13:12:52.9630708+08:00 0HLVDE8T4M5R8:00000002 [INF] Executed action "vote.UserController.v1.UserController.Logout (vote)" in 1.9998ms (afa2e885)
2020-05-01T13:12:52.9630708+08:00 0HLVDE8T4M5R8:00000002 [INF] Request finished in 2.8912ms 302  (791a596a)
2020-05-01T13:12:52.9692292+08:00 0HLVDE8T4M5R8:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/   (ca22a1cb)
2020-05-01T13:12:52.9692292+08:00 0HLVDE8T4M5R8:00000003 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:12:52.9692292+08:00 0HLVDE8T4M5R8:00000003 [INF] Request finished in 0.2358ms 204  (791a596a)
2020-05-01T13:12:52.9742152+08:00 0HLVDE8T4M5R8:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:61598/   (ca22a1cb)
2020-05-01T13:12:52.9742152+08:00 0HLVDE8T4M5R8:00000004 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:12:53.1150284+08:00 0HLVDE8T4M5R7:00000009 [INF] Executed DbCommand ("178"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Created], [x].[Description], [x].[DeviceCodeLifetime], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LastAccessed], [x].[LogoUri], [x].[NonEditable], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh], [x].[Updated], [x].[UserCodeType], [x].[UserSsoLifetime]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id]" (0723d8ff)
2020-05-01T13:12:53.1261084+08:00 0HLVDE8T4M5R7:00000009 [INF] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
INNER JOIN (
    SELECT TOP(1) [x0].[Id]
    FROM [Clients] AS [x0]
    WHERE [x0].[ClientId] = @__clientId_0
    ORDER BY [x0].[Id]
) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
ORDER BY [t].[Id]" (0723d8ff)
2020-05-01T13:12:53.1323844+08:00 0HLVDE8T4M5R7:00000009 [INF] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
FROM [ClientRedirectUris] AS [x.RedirectUris]
INNER JOIN (
    SELECT TOP(1) [x1].[Id]
    FROM [Clients] AS [x1]
    WHERE [x1].[ClientId] = @__clientId_0
    ORDER BY [x1].[Id]
) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
ORDER BY [t0].[Id]" (0723d8ff)
2020-05-01T13:12:53.1410694+08:00 0HLVDE8T4M5R7:00000009 [INF] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
INNER JOIN (
    SELECT TOP(1) [x2].[Id]
    FROM [Clients] AS [x2]
    WHERE [x2].[ClientId] = @__clientId_0
    ORDER BY [x2].[Id]
) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
ORDER BY [t1].[Id]" (0723d8ff)
2020-05-01T13:12:53.1652956+08:00 0HLVDE8T4M5R7:00000009 [INF] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
FROM [ClientScopes] AS [x.AllowedScopes]
INNER JOIN (
    SELECT TOP(1) [x3].[Id]
    FROM [Clients] AS [x3]
    WHERE [x3].[ClientId] = @__clientId_0
    ORDER BY [x3].[Id]
) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
ORDER BY [t2].[Id]" (0723d8ff)
2020-05-01T13:12:53.1700922+08:00 0HLVDE8T4M5R7:00000009 [INF] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Created], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
FROM [ClientSecrets] AS [x.ClientSecrets]
INNER JOIN (
    SELECT TOP(1) [x4].[Id]
    FROM [Clients] AS [x4]
    WHERE [x4].[ClientId] = @__clientId_0
    ORDER BY [x4].[Id]
) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
ORDER BY [t3].[Id]" (0723d8ff)
2020-05-01T13:12:53.1740724+08:00 0HLVDE8T4M5R7:00000009 [INF] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
FROM [ClientClaims] AS [x.Claims]
INNER JOIN (
    SELECT TOP(1) [x5].[Id]
    FROM [Clients] AS [x5]
    WHERE [x5].[ClientId] = @__clientId_0
    ORDER BY [x5].[Id]
) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
ORDER BY [t4].[Id]" (0723d8ff)
2020-05-01T13:12:53.1780708+08:00 0HLVDE8T4M5R7:00000009 [INF] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
INNER JOIN (
    SELECT TOP(1) [x6].[Id]
    FROM [Clients] AS [x6]
    WHERE [x6].[ClientId] = @__clientId_0
    ORDER BY [x6].[Id]
) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
ORDER BY [t5].[Id]" (0723d8ff)
2020-05-01T13:12:53.2024995+08:00 0HLVDE8T4M5R7:00000009 [INF] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
INNER JOIN (
    SELECT TOP(1) [x7].[Id]
    FROM [Clients] AS [x7]
    WHERE [x7].[ClientId] = @__clientId_0
    ORDER BY [x7].[Id]
) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
ORDER BY [t6].[Id]" (0723d8ff)
2020-05-01T13:12:53.2060693+08:00 0HLVDE8T4M5R7:00000009 [INF] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
FROM [ClientProperties] AS [x.Properties]
INNER JOIN (
    SELECT TOP(1) [x8].[Id]
    FROM [Clients] AS [x8]
    WHERE [x8].[ClientId] = @__clientId_0
    ORDER BY [x8].[Id]
) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
ORDER BY [t7].[Id]" (0723d8ff)
2020-05-01T13:12:53.2096854+08:00 0HLVDE8T4M5R7:00000009 [INF] End session request validation success
EndSessionRequestValidationLog { ClientId: "js", ClientName: "JavaScript Client", SubjectId: "2", PostLogOutUri: "http://localhost:5000", State: null, Raw: [("id_token_hint": "***REDACTED***"), ("post_logout_redirect_uri": "http://localhost:5000")] } (a6ad0f1e)
2020-05-01T13:12:53.2100694+08:00 0HLVDE8T4M5R7:00000009 [INF] Request finished in 276.5199ms 302  (791a596a)
2020-05-01T13:12:54.6035645+08:00 0HLVDE8T4M5R7:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T13:12:54.6041317+08:00 0HLVDE8T4M5R7:0000000A [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:12:54.6041317+08:00 0HLVDE8T4M5R7:0000000A [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T13:12:54.6041317+08:00 0HLVDE8T4M5R7:0000000A [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T13:12:54.6041317+08:00 0HLVDE8T4M5R7:0000000A [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:12:54.6060716+08:00 0HLVDE8T4M5R7:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T13:12:54.6060716+08:00 0HLVDE8T4M5R7:0000000A [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.7165ms. (50a9e262)
2020-05-01T13:12:54.6060716+08:00 0HLVDE8T4M5R7:0000000A [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:12:54.6060716+08:00 0HLVDE8T4M5R7:0000000A [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 2.3286ms (afa2e885)
2020-05-01T13:12:54.6070852+08:00 0HLVDE8T4M5R7:0000000A [INF] Request finished in 3.0888ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:12:54.9800705+08:00 0HLVDE8T4M5R8:00000004 [INF] Request finished in 2005.8471ms 200 text/html; charset=UTF-8 (791a596a)
2020-05-01T13:13:36.5740716+08:00 0HLVDE8T4M5R7:0000000B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/user/login   (ca22a1cb)
2020-05-01T13:13:36.5740716+08:00 0HLVDE8T4M5R7:0000000B [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:36.5740716+08:00 0HLVDE8T4M5R7:0000000B [INF] Request finished in 0.3099ms 204  (791a596a)
2020-05-01T13:13:36.5792757+08:00 0HLVDE8T4M5R8:00000005 [INF] Request starting HTTP/1.1 POST http://localhost:61598/api/v1/user/login application/json 41 (ca22a1cb)
2020-05-01T13:13:36.5792757+08:00 0HLVDE8T4M5R8:00000005 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:36.5797974+08:00 0HLVDE8T4M5R8:00000005 [INF] Route matched with "{action = \"Login\", controller = \"User\", page = \"\"}". Executing action "vote.UserController.v1.UserController.Login (vote)" (a44c0341)
2020-05-01T13:13:36.5800696+08:00 0HLVDE8T4M5R8:00000005 [INF] Executing action method "vote.UserController.v1.UserController.Login (vote)" with arguments (["vote.Models.ApplicationUser"]) - Validation state: Valid (4e3479ed)
2020-05-01T13:13:36.5800696+08:00 0HLVDE8T4M5R8:00000005 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:13:36.6820744+08:00 0HLVDE8T4M5R8:00000005 [INF] Executed DbCommand ("101"ms) [Parameters=["@__user_Username_0='?' (Size = 15), @__user_Password_1='?' (Size = 16)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [o].[Id], [o].[CreatedAt], [o].[Displayname], [o].[LastLogin], [o].[Password], [o].[Username]
FROM [User] AS [o]
WHERE ([o].[Username] = @__user_Username_0) AND ([o].[Password] = @__user_Password_1)" (0723d8ff)
2020-05-01T13:13:36.6820744+08:00 0HLVDE8T4M5R8:00000005 [INF] Executed action method "vote.UserController.v1.UserController.Login (vote)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult" in 102.4192ms. (50a9e262)
2020-05-01T13:13:36.6820744+08:00 0HLVDE8T4M5R8:00000005 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:13:36.6830750+08:00 0HLVDE8T4M5R8:00000005 [INF] Executed action "vote.UserController.v1.UserController.Login (vote)" in 103.1959ms (afa2e885)
2020-05-01T13:13:36.6830750+08:00 0HLVDE8T4M5R8:00000005 [INF] Request finished in 103.8402ms 400 application/json; charset=utf-8 (791a596a)
2020-05-01T13:13:40.0805112+08:00 0HLVDE8T4M5R7:0000000C [INF] Request starting HTTP/1.1 POST http://localhost:61598/api/v1/user/login application/json 41 (ca22a1cb)
2020-05-01T13:13:40.0805112+08:00 0HLVDE8T4M5R7:0000000C [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:40.0810722+08:00 0HLVDE8T4M5R7:0000000C [INF] Route matched with "{action = \"Login\", controller = \"User\", page = \"\"}". Executing action "vote.UserController.v1.UserController.Login (vote)" (a44c0341)
2020-05-01T13:13:40.0810722+08:00 0HLVDE8T4M5R7:0000000C [INF] Executing action method "vote.UserController.v1.UserController.Login (vote)" with arguments (["vote.Models.ApplicationUser"]) - Validation state: Valid (4e3479ed)
2020-05-01T13:13:40.0810722+08:00 0HLVDE8T4M5R7:0000000C [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:13:40.0820739+08:00 0HLVDE8T4M5R7:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Username_0='?' (Size = 15), @__user_Password_1='?' (Size = 16)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [o].[Id], [o].[CreatedAt], [o].[Displayname], [o].[LastLogin], [o].[Password], [o].[Username]
FROM [User] AS [o]
WHERE ([o].[Username] = @__user_Username_0) AND ([o].[Password] = @__user_Password_1)" (0723d8ff)
2020-05-01T13:13:40.0831289+08:00 0HLVDE8T4M5R7:0000000C [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2020-05-01T13:13:40.0880687+08:00 0HLVDE8T4M5R7:0000000C [INF] Executed DbCommand ("4"ms) [Parameters=["@p5='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (Size = 15), @p2='?' (DbType = DateTime2), @p3='?' (Size = 16), @p4='?' (Size = 15)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [User] SET [CreatedAt] = @p0, [Displayname] = @p1, [LastLogin] = @p2, [Password] = @p3, [Username] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2020-05-01T13:13:40.0900700+08:00 0HLVDE8T4M5R7:0000000C [INF] Executed action method "vote.UserController.v1.UserController.Login (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.0174ms. (50a9e262)
2020-05-01T13:13:40.0900700+08:00 0HLVDE8T4M5R7:0000000C [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:13:40.0900700+08:00 0HLVDE8T4M5R7:0000000C [INF] Executed action "vote.UserController.v1.UserController.Login (vote)" in 9.7943ms (afa2e885)
2020-05-01T13:13:40.0910696+08:00 0HLVDE8T4M5R7:0000000C [INF] Request finished in 10.4349ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:13:40.1743713+08:00 0HLVDE8T4M5R8:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:61598/.well-known/openid-configuration   (ca22a1cb)
2020-05-01T13:13:40.1743713+08:00 0HLVDE8T4M5R8:00000006 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:40.1751119+08:00 0HLVDE8T4M5R8:00000006 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"ConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=vote " (9958f5bb)
2020-05-01T13:13:40.1770711+08:00 0HLVDE8T4M5R8:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.AllowedCorsOrigins].[Origin]
FROM [Clients] AS [x]
INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]" (0723d8ff)
2020-05-01T13:13:40.1779730+08:00 0HLVDE8T4M5R8:00000006 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:40.1780731+08:00 0HLVDE8T4M5R8:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-05-01T13:13:40.1930700+08:00 0HLVDE8T4M5R8:00000006 [INF] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Created], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[NonEditable], [x].[Required], [x].[ShowInDiscoveryDocument], [x].[Updated]
FROM [IdentityResources] AS [x]
ORDER BY [x].[Id]" (0723d8ff)
2020-05-01T13:13:40.1981228+08:00 0HLVDE8T4M5R8:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
FROM [IdentityClaims] AS [x.UserClaims]
INNER JOIN (
    SELECT [x0].[Id]
    FROM [IdentityResources] AS [x0]
) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
ORDER BY [t].[Id]" (0723d8ff)
2020-05-01T13:13:40.2039275+08:00 0HLVDE8T4M5R8:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Properties].[Id], [x.Properties].[IdentityResourceId], [x.Properties].[Key], [x.Properties].[Value]
FROM [IdentityProperties] AS [x.Properties]
INNER JOIN (
    SELECT [x1].[Id]
    FROM [IdentityResources] AS [x1]
) AS [t0] ON [x.Properties].[IdentityResourceId] = [t0].[Id]
ORDER BY [t0].[Id]" (0723d8ff)
2020-05-01T13:13:40.2130701+08:00 0HLVDE8T4M5R8:00000006 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Created], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[LastAccessed], [x].[Name], [x].[NonEditable], [x].[Updated]
FROM [ApiResources] AS [x]
ORDER BY [x].[Id]" (0723d8ff)
2020-05-01T13:13:40.2150688+08:00 0HLVDE8T4M5R8:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Created], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
FROM [ApiSecrets] AS [x.Secrets]
INNER JOIN (
    SELECT [x0].[Id]
    FROM [ApiResources] AS [x0]
) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
ORDER BY [t].[Id]" (0723d8ff)
2020-05-01T13:13:40.2482684+08:00 0HLVDE8T4M5R8:00000006 [INF] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [x.Scopes]
INNER JOIN (
    SELECT [x1].[Id]
    FROM [ApiResources] AS [x1]
) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
ORDER BY [t0].[Id], [x.Scopes].[Id]" (0723d8ff)
2020-05-01T13:13:40.2580710+08:00 0HLVDE8T4M5R8:00000006 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
INNER JOIN (
    SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
    FROM [ApiScopes] AS [x.Scopes0]
    INNER JOIN (
        SELECT [x2].[Id]
        FROM [ApiResources] AS [x2]
    ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
ORDER BY [t2].[Id0], [t2].[Id]" (0723d8ff)
2020-05-01T13:13:40.2702573+08:00 0HLVDE8T4M5R8:00000006 [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
FROM [ApiClaims] AS [x.UserClaims]
INNER JOIN (
    SELECT [x3].[Id]
    FROM [ApiResources] AS [x3]
) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
ORDER BY [t3].[Id]" (0723d8ff)
2020-05-01T13:13:40.2740961+08:00 0HLVDE8T4M5R8:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x.Properties].[Id], [x.Properties].[ApiResourceId], [x.Properties].[Key], [x.Properties].[Value]
FROM [ApiProperties] AS [x.Properties]
INNER JOIN (
    SELECT [x4].[Id]
    FROM [ApiResources] AS [x4]
) AS [t4] ON [x.Properties].[ApiResourceId] = [t4].[Id]
ORDER BY [t4].[Id]" (0723d8ff)
2020-05-01T13:13:40.2750717+08:00 0HLVDE8T4M5R8:00000006 [INF] Request finished in 100.893ms 200 application/json; charset=UTF-8 (791a596a)
2020-05-01T13:13:40.2920722+08:00 0HLVDE8T4M5R7:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/authorize?client_id=js&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fauth-callback&response_type=id_token%20token&scope=openid%20profile%20api1&state=412b7f45f76e498ab34f50b742404ec6&nonce=411a7d67e091471883c91c1a9a1e455e&display=popup   (ca22a1cb)
2020-05-01T13:13:40.2920722+08:00 0HLVDE8T4M5R7:0000000D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2020-05-01T13:13:40.2930695+08:00 0HLVDE8T4M5R7:0000000D [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"ConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=vote " (9958f5bb)
2020-05-01T13:13:40.2972961+08:00 0HLVDE8T4M5R7:0000000D [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [identityResource].[Id], [identityResource].[Created], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[NonEditable], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument], [identityResource].[Updated]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'profile', N'api1')
ORDER BY [identityResource].[Id]" (0723d8ff)
2020-05-01T13:13:40.3032185+08:00 0HLVDE8T4M5R7:0000000D [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
FROM [IdentityClaims] AS [identityResource.UserClaims]
INNER JOIN (
    SELECT [identityResource0].[Id]
    FROM [IdentityResources] AS [identityResource0]
    WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'api1')
) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
ORDER BY [t].[Id]" (0723d8ff)
2020-05-01T13:13:40.3070749+08:00 0HLVDE8T4M5R7:0000000D [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [identityResource.Properties].[Id], [identityResource.Properties].[IdentityResourceId], [identityResource.Properties].[Key], [identityResource.Properties].[Value]
FROM [IdentityProperties] AS [identityResource.Properties]
INNER JOIN (
    SELECT [identityResource1].[Id]
    FROM [IdentityResources] AS [identityResource1]
    WHERE [identityResource1].[Name] IN (N'openid', N'profile', N'api1')
) AS [t0] ON [identityResource.Properties].[IdentityResourceId] = [t0].[Id]
ORDER BY [t0].[Id]" (0723d8ff)
2020-05-01T13:13:40.3142413+08:00 0HLVDE8T4M5R7:0000000D [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api].[Id], [api].[Created], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[LastAccessed], [api].[Name], [api].[NonEditable], [api].[Updated]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'profile', N'api1') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id]" (0723d8ff)
2020-05-01T13:13:40.3300871+08:00 0HLVDE8T4M5R7:0000000D [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api.Secrets].[Id], [api.Secrets].[ApiResourceId], [api.Secrets].[Created], [api.Secrets].[Description], [api.Secrets].[Expiration], [api.Secrets].[Type], [api.Secrets].[Value]
FROM [ApiSecrets] AS [api.Secrets]
INNER JOIN (
    SELECT [api0].[Id]
    FROM [ApiResources] AS [api0]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x0]
        WHERE [x0].[Name] IN (N'openid', N'profile', N'api1') AND ([api0].[Id] = [x0].[ApiResourceId]))
) AS [t] ON [api.Secrets].[ApiResourceId] = [t].[Id]
ORDER BY [t].[Id]" (0723d8ff)
2020-05-01T13:13:40.3474606+08:00 0HLVDE8T4M5R7:0000000D [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api.Scopes].[Id], [api.Scopes].[ApiResourceId], [api.Scopes].[Description], [api.Scopes].[DisplayName], [api.Scopes].[Emphasize], [api.Scopes].[Name], [api.Scopes].[Required], [api.Scopes].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [api.Scopes]
INNER JOIN (
    SELECT [api1].[Id]
    FROM [ApiResources] AS [api1]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x1]
        WHERE [x1].[Name] IN (N'openid', N'profile', N'api1') AND ([api1].[Id] = [x1].[ApiResourceId]))
) AS [t0] ON [api.Scopes].[ApiResourceId] = [t0].[Id]
ORDER BY [t0].[Id], [api.Scopes].[Id]" (0723d8ff)
2020-05-01T13:13:40.3758538+08:00 0HLVDE8T4M5R7:0000000D [INF] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api.Scopes.UserClaims].[Id], [api.Scopes.UserClaims].[ApiScopeId], [api.Scopes.UserClaims].[Type]
FROM [ApiScopeClaims] AS [api.Scopes.UserClaims]
INNER JOIN (
    SELECT DISTINCT [api.Scopes0].[Id], [t1].[Id] AS [Id0]
    FROM [ApiScopes] AS [api.Scopes0]
    INNER JOIN (
        SELECT [api2].[Id]
        FROM [ApiResources] AS [api2]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x2]
            WHERE [x2].[Name] IN (N'openid', N'profile', N'api1') AND ([api2].[Id] = [x2].[ApiResourceId]))
    ) AS [t1] ON [api.Scopes0].[ApiResourceId] = [t1].[Id]
) AS [t2] ON [api.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
ORDER BY [t2].[Id0], [t2].[Id]" (0723d8ff)
2020-05-01T13:13:40.3910673+08:00 0HLVDE8T4M5R7:0000000D [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api.UserClaims].[Id], [api.UserClaims].[ApiResourceId], [api.UserClaims].[Type]
FROM [ApiClaims] AS [api.UserClaims]
INNER JOIN (
    SELECT [api3].[Id]
    FROM [ApiResources] AS [api3]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x3]
        WHERE [x3].[Name] IN (N'openid', N'profile', N'api1') AND ([api3].[Id] = [x3].[ApiResourceId]))
) AS [t3] ON [api.UserClaims].[ApiResourceId] = [t3].[Id]
ORDER BY [t3].[Id]" (0723d8ff)
2020-05-01T13:13:40.4050669+08:00 0HLVDE8T4M5R7:0000000D [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [api.Properties].[Id], [api.Properties].[ApiResourceId], [api.Properties].[Key], [api.Properties].[Value]
FROM [ApiProperties] AS [api.Properties]
INNER JOIN (
    SELECT [api4].[Id]
    FROM [ApiResources] AS [api4]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x4]
        WHERE [x4].[Name] IN (N'openid', N'profile', N'api1') AND ([api4].[Id] = [x4].[ApiResourceId]))
) AS [t4] ON [api.Properties].[ApiResourceId] = [t4].[Id]
ORDER BY [t4].[Id]" (0723d8ff)
2020-05-01T13:13:40.4140680+08:00 0HLVDE8T4M5R7:0000000D [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2020-05-01T13:13:40.4144506+08:00 0HLVDE8T4M5R7:0000000D [INF] Request finished in 122.4018ms 302  (791a596a)
2020-05-01T13:13:41.6360727+08:00 0HLVDE8T4M5R8:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:61598/.well-known/openid-configuration/jwks   (ca22a1cb)
2020-05-01T13:13:41.6360727+08:00 0HLVDE8T4M5R8:00000007 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:41.6360727+08:00 0HLVDE8T4M5R8:00000007 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:41.6360727+08:00 0HLVDE8T4M5R8:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-05-01T13:13:41.6370712+08:00 0HLVDE8T4M5R8:00000007 [INF] Request finished in 0.9769ms 200 application/jwk-set+json; charset=UTF-8 (791a596a)
2020-05-01T13:13:41.6880699+08:00 0HLVDE8T4M5R7:0000000E [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/connect/userinfo   (ca22a1cb)
2020-05-01T13:13:41.6880699+08:00 0HLVDE8T4M5R7:0000000E [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:41.6880699+08:00 0HLVDE8T4M5R7:0000000E [INF] Request finished in 0.2203ms 204  (791a596a)
2020-05-01T13:13:41.6931127+08:00 0HLVDE8T4M5R8:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/userinfo   (ca22a1cb)
2020-05-01T13:13:41.6931127+08:00 0HLVDE8T4M5R8:00000008 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:41.6931127+08:00 0HLVDE8T4M5R8:00000008 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:41.6931127+08:00 0HLVDE8T4M5R8:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2020-05-01T13:13:41.6980696+08:00 0HLVDE8T4M5R8:00000008 [INF] Profile service returned the following claim types: "sub name" (b824551e)
2020-05-01T13:13:41.6980696+08:00 0HLVDE8T4M5R8:00000008 [INF] Request finished in 5.2407ms 200 application/json; charset=UTF-8 (791a596a)
2020-05-01T13:13:41.7280704+08:00 0HLVDE8T4M5R7:0000000F [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/checksession   (ca22a1cb)
2020-05-01T13:13:41.7280704+08:00 0HLVDE8T4M5R7:0000000F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2020-05-01T13:13:41.7280704+08:00 0HLVDE8T4M5R7:0000000F [INF] Request finished in 0.6442ms 200 text/html; charset=UTF-8 (791a596a)
2020-05-01T13:13:42.4761055+08:00 0HLVDE8T4M5R8:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:61598/.well-known/openid-configuration   (ca22a1cb)
2020-05-01T13:13:42.4761055+08:00 0HLVDE8T4M5R8:00000009 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:42.4766371+08:00 0HLVDE8T4M5R8:00000009 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:42.4766371+08:00 0HLVDE8T4M5R8:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-05-01T13:13:42.4770703+08:00 0HLVDE8T4M5R8:00000009 [INF] Request finished in 0.9062ms 200 application/json; charset=UTF-8 (791a596a)
2020-05-01T13:13:42.5575698+08:00 0HLVDE8T4M5R7:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/checksession   (ca22a1cb)
2020-05-01T13:13:42.5575698+08:00 0HLVDE8T4M5R7:00000010 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2020-05-01T13:13:42.5580726+08:00 0HLVDE8T4M5R7:00000010 [INF] Request finished in 0.6783ms 200 text/html; charset=UTF-8 (791a596a)
2020-05-01T13:13:42.9727659+08:00 0HLVDE8T4M5R8:0000000A [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T13:13:42.9727659+08:00 0HLVDE8T4M5R8:0000000A [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:42.9730713+08:00 0HLVDE8T4M5R8:0000000A [INF] Request finished in 0.235ms 204  (791a596a)
2020-05-01T13:13:42.9776834+08:00 0HLVDE8T4M5R7:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T13:13:42.9776834+08:00 0HLVDE8T4M5R7:00000011 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:42.9780729+08:00 0HLVDE8T4M5R7:00000011 [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T13:13:42.9780729+08:00 0HLVDE8T4M5R7:00000011 [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T13:13:42.9780729+08:00 0HLVDE8T4M5R7:00000011 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:13:42.9790717+08:00 0HLVDE8T4M5R7:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T13:13:42.9790717+08:00 0HLVDE8T4M5R7:00000011 [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.4821ms. (50a9e262)
2020-05-01T13:13:42.9790717+08:00 0HLVDE8T4M5R7:00000011 [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:13:42.9790717+08:00 0HLVDE8T4M5R7:00000011 [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 1.7801ms (afa2e885)
2020-05-01T13:13:42.9801441+08:00 0HLVDE8T4M5R7:00000011 [INF] Request finished in 2.4638ms 200 application/json; charset=utf-8 (791a596a)
2020-05-01T13:13:48.9103350+08:00 0HLVDE8T4M5R8:0000000B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/user   (ca22a1cb)
2020-05-01T13:13:48.9114000+08:00 0HLVDE8T4M5R8:0000000B [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:48.9114000+08:00 0HLVDE8T4M5R8:0000000B [INF] Request finished in 0.2774ms 204  (791a596a)
2020-05-01T13:13:48.9163400+08:00 0HLVDE8T4M5R7:00000012 [INF] Request starting HTTP/1.1 DELETE http://localhost:61598/api/v1/user   (ca22a1cb)
2020-05-01T13:13:48.9163400+08:00 0HLVDE8T4M5R7:00000012 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:48.9174736+08:00 0HLVDE8T4M5R7:00000012 [INF] Route matched with "{action = \"UnRegister\", controller = \"User\", page = \"\"}". Executing action "vote.UserController.v1.UserController.UnRegister (vote)" (a44c0341)
2020-05-01T13:13:48.9181271+08:00 0HLVDE8T4M5R7:00000012 [INF] Successfully validated the token. (60169667)
2020-05-01T13:13:48.9183365+08:00 0HLVDE8T4M5R7:00000012 [INF] Authorization was successful. (0d575a54)
2020-05-01T13:13:48.9183365+08:00 0HLVDE8T4M5R7:00000012 [INF] Executing action method "vote.UserController.v1.UserController.UnRegister (vote)" - Validation state: Valid (dad538d7)
2020-05-01T13:13:48.9183365+08:00 0HLVDE8T4M5R7:00000012 [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:13:48.9253359+08:00 0HLVDE8T4M5R7:00000012 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [User]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2020-05-01T13:13:48.9263388+08:00 0HLVDE8T4M5R7:00000012 [INF] Executed action method "vote.UserController.v1.UserController.UnRegister (vote)", returned result "Microsoft.AspNetCore.Mvc.NoContentResult" in 7.7455ms. (50a9e262)
2020-05-01T13:13:48.9263388+08:00 0HLVDE8T4M5R7:00000012 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204 (e28ccfae)
2020-05-01T13:13:48.9263388+08:00 0HLVDE8T4M5R7:00000012 [INF] Executed action "vote.UserController.v1.UserController.UnRegister (vote)" in 9.1866ms (afa2e885)
2020-05-01T13:13:48.9263388+08:00 0HLVDE8T4M5R7:00000012 [INF] Request finished in 10.1192ms 204  (791a596a)
2020-05-01T13:13:48.9873390+08:00 0HLVDE8T4M5R8:0000000C [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/api/v1/user/logout   (ca22a1cb)
2020-05-01T13:13:48.9873390+08:00 0HLVDE8T4M5R8:0000000C [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:48.9873390+08:00 0HLVDE8T4M5R7:00000013 [INF] Request starting HTTP/1.1 GET http://localhost:61598/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6ImI4M2EyOWYwM2Q3YWJjMzAyYTM3M2Q1OWI0ODNmMGFhIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1ODgzMTAwMjAsImV4cCI6MTU4ODMxMDMyMCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo2MTU5OCIsImF1ZCI6ImpzIiwibm9uY2UiOiI0MTFhN2Q2N2UwOTE0NzE4ODNjOTFjMWE5YTFlNDU1ZSIsImlhdCI6MTU4ODMxMDAyMCwiYXRfaGFzaCI6IkFUb3FPWFdublhFWnJxeTktd0JFdUEiLCJzaWQiOiI3NTBmOWRhMjFhMGVjNWY3MmZlNDg0N2I4ZDg1MWEyNSIsInN1YiI6IjIiLCJhdXRoX3RpbWUiOjE1ODgzMTAwMjAsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.SKLLAG8MlbUj5pC9Z9haabG4njAaE6ZC-YzpcF9gTTKXbuUdM_uHusMH9W4y5_sgB2zOKJ6gJbOudvh0pv-OTQ5BqEqunrgQhZQqvnyYQkxLwXv_fFr5_uE7ZrG7-JCef-fIXHX900UxNQNtfWMhN3joZPxQeHpmjjl56vPlwqRRZO2MkStlp23Mz_yi6XxGqYJlM08EVivztUeRK3Oy4frgSS-x7LrjkGCRaAER9xSVQG5jwCdwSn3jH15s2yVp-wVql8CK6RpYsoF_Wk9rDp62hPtDRyPLNO-U1TI7jnaMu-RwvNz08XR8kzZjEP_-AROg4rG4GDPtpey5JGVDPw&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A5000   (ca22a1cb)
2020-05-01T13:13:48.9873390+08:00 0HLVDE8T4M5R8:0000000C [INF] Request finished in 0.2452ms 204  (791a596a)
2020-05-01T13:13:48.9883370+08:00 0HLVDE8T4M5R7:00000013 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2020-05-01T13:13:48.9923363+08:00 0HLVDE8T4M5R7:00000013 [INF] End session request validation success
EndSessionRequestValidationLog { ClientId: "js", ClientName: "JavaScript Client", SubjectId: "2", PostLogOutUri: "http://localhost:5000", State: null, Raw: [("id_token_hint": "***REDACTED***"), ("post_logout_redirect_uri": "http://localhost:5000")] } (a6ad0f1e)
2020-05-01T13:13:48.9923363+08:00 0HLVDE8T4M5R7:00000013 [INF] Request finished in 5.2469ms 302  (791a596a)
2020-05-01T13:13:48.9943385+08:00 0HLVDE8T4M5R8:0000000D [INF] Request starting HTTP/1.1 POST http://localhost:61598/api/v1/user/logout  0 (ca22a1cb)
2020-05-01T13:13:48.9943385+08:00 0HLVDE8T4M5R8:0000000D [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:48.9953410+08:00 0HLVDE8T4M5R8:0000000D [INF] Route matched with "{action = \"Logout\", controller = \"User\", page = \"\"}". Executing action "vote.UserController.v1.UserController.Logout (vote)" (a44c0341)
2020-05-01T13:13:48.9953410+08:00 0HLVDE8T4M5R8:0000000D [INF] Successfully validated the token. (60169667)
2020-05-01T13:13:48.9953410+08:00 0HLVDE8T4M5R8:0000000D [INF] Authorization was successful. (0d575a54)
2020-05-01T13:13:48.9963381+08:00 0HLVDE8T4M5R8:0000000D [INF] Executing action method "vote.UserController.v1.UserController.Logout (vote)" - Validation state: Valid (dad538d7)
2020-05-01T13:13:48.9963381+08:00 0HLVDE8T4M5R8:0000000D [INF] AuthenticationScheme: "Cookies" signed out. (d3f50c8d)
2020-05-01T13:13:48.9963381+08:00 0HLVDE8T4M5R8:0000000D [INF] Executed action method "vote.UserController.v1.UserController.Logout (vote)", returned result "Microsoft.AspNetCore.Mvc.LocalRedirectResult" in 0.17ms. (50a9e262)
2020-05-01T13:13:48.9963381+08:00 0HLVDE8T4M5R8:0000000D [INF] Executing LocalRedirectResult, redirecting to "/". (cac120e6)
2020-05-01T13:13:48.9963381+08:00 0HLVDE8T4M5R8:0000000D [INF] Executed action "vote.UserController.v1.UserController.Logout (vote)" in 1.6568ms (afa2e885)
2020-05-01T13:13:48.9963381+08:00 0HLVDE8T4M5R8:0000000D [INF] Request finished in 2.744ms 302  (791a596a)
2020-05-01T13:13:49.0774227+08:00 0HLVDE8T4M5R7:00000014 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:61598/   (ca22a1cb)
2020-05-01T13:13:49.0774227+08:00 0HLVDE8T4M5R7:00000014 [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:49.0774227+08:00 0HLVDE8T4M5R7:00000014 [INF] Request finished in 0.4215ms 204  (791a596a)
2020-05-01T13:13:49.8313362+08:00 0HLVDE8T4M5R8:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:61598/api/v1/poll   (ca22a1cb)
2020-05-01T13:13:49.8313362+08:00 0HLVDE8T4M5R8:0000000E [INF] CORS policy execution successful. (5409d6ef)
2020-05-01T13:13:49.8313362+08:00 0HLVDE8T4M5R8:0000000E [INF] Route matched with "{action = \"GetAll\", controller = \"Poll\", page = \"\"}". Executing action "vote.Controllers.v1.PollController.GetAll (vote)" (a44c0341)
2020-05-01T13:13:49.8313362+08:00 0HLVDE8T4M5R8:0000000E [INF] Executing action method "vote.Controllers.v1.PollController.GetAll (vote)" - Validation state: Valid (dad538d7)
2020-05-01T13:13:49.8323382+08:00 0HLVDE8T4M5R8:0000000E [INF] Entity Framework Core "2.2.0-rtm-35687" initialized '"VoteContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-05-01T13:13:49.8343412+08:00 0HLVDE8T4M5R8:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__startId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Content], [p].[CreatedAt], [p].[Description], [p].[PollPropId], [p].[Title], [p].[UserId], [p.PollProp].[Id], [p.PollProp].[ExpiresAt], [p.PollProp].[IsPublic]
FROM [Poll] AS [p]
LEFT JOIN [PollProp] AS [p.PollProp] ON [p].[PollPropId] = [p.PollProp].[Id]
WHERE [p].[Id] >= @__startId_0" (0723d8ff)
2020-05-01T13:13:49.8343412+08:00 0HLVDE8T4M5R8:0000000E [INF] Executed action method "vote.Controllers.v1.PollController.GetAll (vote)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.4616ms. (50a9e262)
2020-05-01T13:13:49.8343412+08:00 0HLVDE8T4M5R8:0000000E [INF] Executing ObjectResult, writing value of type '"vote.Models.ResponseState"'. (8a1b66c8)
2020-05-01T13:13:49.8603591+08:00 0HLVDE8T4M5R8:0000000E [INF] Executed action "vote.Controllers.v1.PollController.GetAll (vote)" in 27.3726ms (afa2e885)
2020-05-01T13:13:49.8603591+08:00 0HLVDE8T4M5R8:0000000E [INF] Request finished in 29.2161ms 200 application/json; charset=utf-8 (791a596a)
